<div class="alert alert-success"><div class="icon"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"></path></svg></div><div class="message"><div class="title"> 说明</div><p>本篇文章是举行在2024年8月18日的 CZSC2024第一次 的题解</p>
<p>比赛页：<a href="https://www.luogu.com.cn/contest/188106">https://www.luogu.com.cn/contest/188106</a></p>
<p>T1点：<a href="https://www.luogu.com.cn/problem/T484700">https://www.luogu.com.cn/problem/T484700</a></p>
<p>T2修剪树枝：<a href="https://www.luogu.com.cn/problem/T488675">https://www.luogu.com.cn/problem/T488675</a></p>
<p>T3取模：<a href="https://www.luogu.com.cn/problem/T485663">https://www.luogu.com.cn/problem/T485663</a></p>
<p>T4填数游戏：<a href="https://www.luogu.com.cn/problem/T488688">https://www.luogu.com.cn/problem/T488688</a></p>
</div></div>
<h2 id="gai-lan" tabindex="-1">概览</h2>
<ul>
<li>暴力打满：80+16+20+32=148pts</li>
<li>优秀：100+40+36+48=224pts</li>
</ul>
<p>相对水平推测（以完全零基础为基准）：</p>
<ul>
<li>河北NOIP三等：50pts</li>
<li>河北NOIP二等：100pts</li>
<li>河北NOIP一等：150pts</li>
<li>CCF六级：224pts</li>
<li>CCF七级/河北省队：300pts</li>
</ul>
<p>绝对水平推测（以选手完全学习信竞后的水平为基准）：</p>
<ul>
<li>河北NOIP三等：200pts</li>
<li>河北NOIP二等：348pts</li>
<li>河北NOIP一等：400pts</li>
</ul>
<p>简要题解</p>
<ul>
<li><strong>T1</strong> 直接记录一个点有没有被连接就行，每次操作的时候去判断并记录，顺便统计答案。</li>
<li><strong>T2</strong> 先从小到大排序，枚举剪刀硬度的同时枚举树枝硬度，一个个匹配，这就是最优的选择方案。</li>
<li><strong>T3</strong> 直接找规律，规律找到后拿高斯求和公式直接计算即可。</li>
<li><strong>T4</strong> 先考虑分数全正且相同的情况，再考虑全正但不同的情况，负数情况同理。然后考虑单调递增的情况，然后再考虑先负后正的情况。这些特殊情况都是不难考虑的。于是你发现，所有的一般情况都是上述特殊情况的组合。</li>
</ul>
<h2 id="t1-dian" tabindex="-1">T1 点</h2>
<h3 id="gai-lan-1" tabindex="-1">概览</h3>
<p>本题考察选手最基本的 C++ 语法，但不落俗套，需要选手有少量的思考。题目以图论为背景，看似是超纲的，但实际上只需要稍加观察即可找到突破口。</p>
<p>需要选手有基本的C++语法知识。</p>
<p>难度：<span style="color:rgb(254,76,97)">入门</span></p>
<p>详细考察点：C++ 基本语法、题目转化、时间复杂度分析</p>
<h3 id="suan-fa-yi" tabindex="-1">算法一</h3>
<p>不难发现，当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 时，第一条边加入时必然就剩一个孤立点。如果再加一条边，必然是不存在孤立点了。再加一条边，仍然是不存在孤立点。</p>
<p>所以只需要根据 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 的大小输出即可。参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMG1haW4oKSU3QiUwQSUwOWludCUyMG4lMkNtJTNCJTBBJTA5Y2luJTNFJTNFbiUzRSUzRW0lM0IlMEElMDlpZihtJTNEJTNEMSklN0IlMEElMDklMDljb3V0JTNDJTNDMSUzQiUwQSUwOSU3RCUwQSUwOWlmKG0lM0QlM0QyKSU3QiUwQSUwOSUwOWNvdXQlM0MlM0MxJTNDJTNDZW5kbCUzQyUzQzAlM0IlMEElMDklN0QlMEElMDlpZihtJTNEJTNEMyklN0IlMEElMDklMDljb3V0JTNDJTNDMSUzQyUzQ2VuZGwlM0MlM0MwJTNDJTNDZW5kbCUzQyUzQzAlM0IlMEElMDklN0QlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">if</span>(m==<span class="hljs-number">1</span>){
		cout&lt;&lt;<span class="hljs-number">1</span>;
	}
	<span class="hljs-keyword">if</span>(m==<span class="hljs-number">2</span>){
		cout&lt;&lt;<span class="hljs-number">1</span>&lt;&lt;endl&lt;&lt;<span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">if</span>(m==<span class="hljs-number">3</span>){
		cout&lt;&lt;<span class="hljs-number">1</span>&lt;&lt;endl&lt;&lt;<span class="hljs-number">0</span>&lt;&lt;endl&lt;&lt;<span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1\sim2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">8pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">8</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-er" tabindex="-1">算法二</h3>
<p>对于满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y=x+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 性质的测试点，结合题目说不会重复地将两点相连，我们考虑，数据大致应该是这样：先把点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 和点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 连接，再把点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 和点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 连接，再把点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 和点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> 连接......，直到将点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 连接。实际上 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m=n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 。我们发现，第一条边加入后，立刻有两个点变为了非孤立点，孤立点数量为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">n-2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>。此后，每加入一条边，都会让孤立点减少一个。</p>
<p>然后我们紧接着再看对于满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 性质的测试点，结合题目说不会重复地将两点相连，我们考虑，数据大致应该是这样：先把点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 和点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 连接，再把点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 和点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 连接，再把点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 和点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> 连接......，直到将点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 连接。实际上 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m=n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 。我们发现，孤立点数量的变化和上述情况是相同的。</p>
<p>综上，所以我们只需要从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">n-2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 倒着输出到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> 即可，参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMG1haW4oKSU3QiUwQSUwOWludCUyMG4lMkNtJTNCJTBBJTA5Y2luJTNFJTNFbiUzRSUzRW0lM0IlMEElMDlmb3IoaW50JTIwaSUzRG4tMiUzQmklM0UlM0QwJTNCaS0tKSU3QiUwQSUwOSUwOWNvdXQlM0MlM0NpJTNDJTNDZW5kbCUzQiUwQSUwOSU3RCUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=n<span class="hljs-number">-2</span>;i&gt;=<span class="hljs-number">0</span>;i--){
		cout&lt;&lt;i&lt;&lt;endl;
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>15</mn><mo>∼</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">15\sim20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">15</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span></span></span></span> 。期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">24pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">24</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。结合算法一可获得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">32pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">32</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-san" tabindex="-1">算法三</h3>
<p>我们还可以开一个数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi></mrow><annotation encoding="application/x-tex">tag</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span>， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">tag[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> 表示点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 连接了多少个边。当给点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 连边的时候只需要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo>+</mo><mo>+</mo></mrow><annotation encoding="application/x-tex">tag[u]++</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi><mo stretchy="false">[</mo><mi>v</mi><mo stretchy="false">]</mo><mo>+</mo><mo>+</mo></mrow><annotation encoding="application/x-tex">tag[v]++</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span></span></span></span>。如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">tag[i]=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，则说明点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 没有与任何边连接，也就是点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 为孤立点。</p>
<p>我们可以有这样的代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMHRhZyU1QjIwMDAwNSU1RCUzQiUwQWludCUyMG1haW4oKSU3QiUwQSUwOWludCUyMG4lMkNtJTNCJTBBJTA5Y2luJTNFJTNFbiUzRSUzRW0lM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbSUzQmklMkIlMkIpJTdCJTBBJTA5JTA5aW50JTIweCUyQ3klM0IlMEElMDklMDljaW4lM0UlM0V4JTNFJTNFeSUzQiUwQSUwOSUwOXRhZyU1QnglNUQlMkIlMkIlM0IlMEElMDklMDl0YWclNUJ5JTVEJTJCJTJCJTNCJTBBJTA5JTA5aW50JTIwYW5zJTNEMCUzQiUwQSUwOSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklN0IlMEElMDklMDklMDlpZih0YWclNUJpJTVEJTNEJTNEMCklN0IlMEElMDklMDklMDklMDlhbnMlMkIlMkIlM0IlMEElMDklMDklMDklN0QlMEElMDklMDklN0QlMEElMDklMDljb3V0JTNDJTNDYW5zJTNDJTNDZW5kbCUzQiUwQSUwOSU3RCUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> tag[<span class="hljs-number">200005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++){
		<span class="hljs-type">int</span> x,y;
		cin&gt;&gt;x&gt;&gt;y;
		tag[x]++;
		tag[y]++;
		<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
			<span class="hljs-keyword">if</span>(tag[i]==<span class="hljs-number">0</span>){
				ans++;
			}
		}
		cout&lt;&lt;ans&lt;&lt;endl;
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>分析时间复杂度，应该是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(mn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">mn</span><span class="mclose">)</span></span></span></span> 的，只能通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">1\sim20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>80</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">80pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">80</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-si-zheng-jie" tabindex="-1">算法四（正解）</h3>
<p>我们需要注意到这样的两点</p>
<ul>
<li>一个点不是孤立点后，无论再怎样加边，都不可能再变回孤立点</li>
<li>随着添加边数的增加，孤立点数量一定是单调不增的</li>
</ul>
<p>所以我们在算法三的基础上进行改进，我们定义变量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">an</span><span class="mord mathnormal">s</span></span></span></span> 表示当前孤立点数量，初始时 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">ans=n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">an</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>。当给点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 连边的时候，如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">tag[u]=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，说明点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> 原来是孤立点，现在不是了（有边相连了），<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi><mo>−</mo><mo>−</mo></mrow><annotation encoding="application/x-tex">ans--</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">an</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">−</span></span></span></span> 即可。点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 同理。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBfJTIwMjAwMDA1JTBBdXNpbmclMjBuYW1lc3BhY2UlMjBzdGQlM0IlMEFpbnQlMjB0YWclNUJfJTVEJTNCJTBBaW50JTIwbWFpbigpJTdCJTBBJTA5aW9zJTNBJTNBc3luY193aXRoX3N0ZGlvKGZhbHNlKSUzQiUwQSUwOWludCUyMG4lMkNtJTNCY2luJTNFJTNFbiUzRSUzRW0lM0IlMEElMDlpbnQlMjBhbnMlM0RuJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG0lM0JpJTJCJTJCKSU3QiUwQSUwOSUwOWludCUyMHglMkN5JTNCY2luJTNFJTNFeCUzRSUzRXklM0IlMEElMDklMDlpZighdGFnJTVCeCU1RCklMjBhbnMtLSUzQiUwQSUwOSUwOWlmKCF0YWclNUJ5JTVEKSUyMGFucy0tJTNCJTBBJTA5JTA5dGFnJTVCeCU1RCUyQiUyQiUzQnRhZyU1QnklNUQlMkIlMkIlM0IlMEElMDklMDljb3V0JTNDJTNDYW5zJTNDJTNDZW5kbCUzQiUwQSUwOSU3RCUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> _ 200005</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> tag[_];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);
	<span class="hljs-type">int</span> n,m;cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-type">int</span> ans=n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++){
		<span class="hljs-type">int</span> x,y;cin&gt;&gt;x&gt;&gt;y;
		<span class="hljs-keyword">if</span>(!tag[x]) ans--;
		<span class="hljs-keyword">if</span>(!tag[y]) ans--;
		tag[x]++;tag[y]++;
		cout&lt;&lt;ans&lt;&lt;endl;
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>时间复杂度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span>，可以通过所有测试点，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">100pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">100</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h2 id="t2-xiu-jian-shu-zhi" tabindex="-1">T2 修剪树枝</h2>
<h3 id="gai-lan-2" tabindex="-1">概览</h3>
<p>本题需要选手考虑到剪刀和树枝对应的最佳方案。</p>
<p>需要选手有一定的思考但代码量不高。</p>
<p>难度：<span style="color: rgb(243,156,17)">普及-</span> 到 <span style="color: rgb(255,193,22)">普及/提高-</span> 之间</p>
<p>详细考察点：C++ 基本语法、排序算法、贪心算法、双指针、时间复杂度分析</p>
<h3 id="suan-fa-yi-1" tabindex="-1">算法一</h3>
<p>八仙过海各显神通了</p>
<p>可能通过了测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">1\sim 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">32pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">32</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-er-1" tabindex="-1">算法二</h3>
<p>考虑 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 的情况，显然答案要么是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> 要么是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。我们只需要找到所有树枝中坚硬程度最小的树枝，判断能否使用这唯一的剪刀剪掉即可。如果硬度最小的树枝都剪不了，其他的树枝也就别想了。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMGElNUIyMDAwMDUlNUQlMkNiJTVCMjAwMDA1JTVEJTNCJTBBaW50JTIwbWFpbigpJTdCJTBBJTA5aW50JTIwbiUyQ20lM0IlMEElMDljaW4lM0UlM0VuJTNFJTNFbSUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBjaW4lM0UlM0VhJTVCaSU1RCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RtJTNCaSUyQiUyQiklMjBjaW4lM0UlM0ViJTVCaSU1RCUzQiUwQSUwOXNvcnQoYiUyQjElMkNiJTJCbSUyQjEpJTNCJTBBJTA5aWYoYSU1QjElNUQlM0UlM0RiJTVCMSU1RCklMjBjb3V0JTNDJTNDMSUzQiUwQSUwOWVsc2UlMjBjb3V0JTNDJTNDMCUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> a[<span class="hljs-number">200005</span>],b[<span class="hljs-number">200005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++) cin&gt;&gt;b[i];
	<span class="hljs-built_in">sort</span>(b<span class="hljs-number">+1</span>,b+m<span class="hljs-number">+1</span>);
	<span class="hljs-keyword">if</span>(a[<span class="hljs-number">1</span>]&gt;=b[<span class="hljs-number">1</span>]) cout&lt;&lt;<span class="hljs-number">1</span>;
	<span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-number">0</span>;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn></mrow><annotation encoding="application/x-tex">9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span>，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">4pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。当然你还可以使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 的方法，遍历一遍数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> 找到最小值。</p>
<p>接着我们考虑 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 的情况，我们只需要找到坚硬程度最大的剪刀，判断能不能剪掉这唯一的树枝即可。如果硬度最大的剪刀都剪不了，其他的剪刀也就别想了。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMGElNUIyMDAwMDUlNUQlMkNiJTVCMjAwMDA1JTVEJTNCJTBBaW50JTIwbWFpbigpJTdCJTBBJTA5aW50JTIwbiUyQ20lM0IlMEElMDljaW4lM0UlM0VuJTNFJTNFbSUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBjaW4lM0UlM0VhJTVCaSU1RCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RtJTNCaSUyQiUyQiklMjBjaW4lM0UlM0ViJTVCaSU1RCUzQiUwQSUwOXNvcnQoYSUyQjElMkNhJTJCbiUyQjEpJTNCJTBBJTA5aWYoYSU1Qm4lNUQlM0UlM0RiJTVCMSU1RCklMjBjb3V0JTNDJTNDMSUzQiUwQSUwOWVsc2UlMjBjb3V0JTNDJTNDMCUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> a[<span class="hljs-number">200005</span>],b[<span class="hljs-number">200005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++) cin&gt;&gt;b[i];
	<span class="hljs-built_in">sort</span>(a<span class="hljs-number">+1</span>,a+n<span class="hljs-number">+1</span>);
	<span class="hljs-keyword">if</span>(a[n]&gt;=b[<span class="hljs-number">1</span>]) cout&lt;&lt;<span class="hljs-number">1</span>;
	<span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-number">0</span>;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span>，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">4pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<p>两个代码结合起来可以获得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">8pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">8</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span> 。</p>
<h3 id="suan-fa-san-1" tabindex="-1">算法三</h3>
<p>考虑特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> ，因为所有的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 都相同，我们设这个相同的值为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>。然后我们可以扫一下 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> 序列，求出有多少个树枝坚硬程度小于等于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>，我们假设有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 个。然后我们就知道了有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 个树枝可以被剪掉。</p>
<p>但你还需要比较一下 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 哪个大，因为一个剪刀只能用一次。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMGElNUIyMDAwMDUlNUQlMkNiJTVCMjAwMDA1JTVEJTNCJTBBaW50JTIwbWFpbigpJTdCJTBBJTA5aW50JTIwbiUyQ20lM0IlMEElMDljaW4lM0UlM0VuJTNFJTNFbSUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBjaW4lM0UlM0VhJTVCaSU1RCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RtJTNCaSUyQiUyQiklMjBjaW4lM0UlM0ViJTVCaSU1RCUzQiUwQSUwOWludCUyMHglM0QwJTJDayUzRGElNUIxJTVEJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG0lM0JpJTJCJTJCKSU3QiUwQSUwOSUwOWlmKGslM0UlM0RiJTVCaSU1RCklMjB4JTJCJTJCJTNCJTBBJTA5JTdEJTBBJTA5Y291dCUzQyUzQ21pbih4JTJDbiklM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> a[<span class="hljs-number">200005</span>],b[<span class="hljs-number">200005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++) cin&gt;&gt;b[i];
	<span class="hljs-type">int</span> x=<span class="hljs-number">0</span>,k=a[<span class="hljs-number">1</span>];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++){
		<span class="hljs-keyword">if</span>(k&gt;=b[i]) x++;
	}
	cout&lt;&lt;<span class="hljs-built_in">min</span>(x,n);
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span>，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">4pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。结合算法二可获得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">12pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">12</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<p>考虑特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> ，和上述的做法差不多，代码如下：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMGElNUIyMDAwMDUlNUQlMkNiJTVCMjAwMDA1JTVEJTNCJTBBaW50JTIwbWFpbigpJTdCJTBBJTA5aW50JTIwbiUyQ20lM0IlMEElMDljaW4lM0UlM0VuJTNFJTNFbSUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBjaW4lM0UlM0VhJTVCaSU1RCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RtJTNCaSUyQiUyQiklMjBjaW4lM0UlM0ViJTVCaSU1RCUzQiUwQSUwOWludCUyMHglM0QwJTJDayUzRGIlNUIxJTVEJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKSU3QiUwQSUwOSUwOWlmKGElNUJpJTVEJTNFJTNEayklMjB4JTJCJTJCJTNCJTBBJTA5JTdEJTBBJTA5Y291dCUzQyUzQ21pbih4JTJDbSklM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> a[<span class="hljs-number">200005</span>],b[<span class="hljs-number">200005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++) cin&gt;&gt;b[i];
	<span class="hljs-type">int</span> x=<span class="hljs-number">0</span>,k=b[<span class="hljs-number">1</span>];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
		<span class="hljs-keyword">if</span>(a[i]&gt;=k) x++;
	}
	cout&lt;&lt;<span class="hljs-built_in">min</span>(x,m);
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">4pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。两份代码结合起来可获得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">8pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">8</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>，再结合算法二可获得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">16pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">16</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-si" tabindex="-1">算法四</h3>
<p>我们继续考虑，如果想剪更多的树枝，那么应该当然是柿子找软的捏，尽量从树枝硬度比较小的开始处理。所以我们可能要把数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> 从小到大排序。</p>
<p>然后我们考虑怎么去利用我们手上的剪刀。我们显然是不能把一个硬度很大的剪刀去剪硬度很小的树枝，因为夸张点说这属于大炮轰蚊子，会造成浪费的，我们最好是让剪刀利用地刚刚好。我们把硬度大的剪刀留在后面，先利用硬度小的剪刀，硬度较小的树枝只需要让硬度较小的剪刀去干就好了。所以我们也对数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> 从小到大排序。</p>
<p>然后我们从第一个剪刀开始枚举，看看当前枚举的剪刀能不能利用上。从硬度最小的树枝开始，从小到大去看看当前枚举到的剪刀能不能剪当前枚举到的树枝。这样就能做到硬度较小的剪刀能剪去硬度较小的树枝，利用的情况应该是刚刚好的。</p>
<p>注意可能还要开个数组来判断树枝是否已经被剪掉了。</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMGElNUIyMDAwMDUlNUQlMkNiJTVCMjAwMDA1JTVEJTJDb2slNUIyMDAwMDUlNUQlM0IlMEFpbnQlMjBtYWluKCklN0IlMEElMDlpbnQlMjBuJTJDbSUzQiUwQSUwOWNpbiUzRSUzRW4lM0UlM0VtJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKSUyMGNpbiUzRSUzRWElNUJpJTVEJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG0lM0JpJTJCJTJCKSUyMGNpbiUzRSUzRWIlNUJpJTVEJTNCJTBBJTA5c29ydChhJTJCMSUyQ2ElMkJuJTJCMSklM0IlMEElMDlzb3J0KGIlMkIxJTJDYiUyQm0lMkIxKSUzQiUwQSUwOWludCUyMGFucyUzRDAlM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTdCJTBBJTA5JTA5Zm9yKGludCUyMGolM0QxJTNCaiUzQyUzRG0lM0JqJTJCJTJCKSU3QiUwQSUwOSUwOSUwOWlmKG9rJTVCaiU1RCElM0QwKSUyMGNvbnRpbnVlJTNCJTJGJTJGJUU4JUFGJUI0JUU2JTk4JThFJUU1JUI3JUIyJUU3JUJCJThGJUU2JUEwJTkxJUU2JTlFJTlEJUU4JUEyJUFCJUU1JTg5JUFBJUU2JThFJTg5JUU0JUJBJTg2JUVGJUJDJThDJUU4JUI3JUIzJUU4JUJGJTg3JTBBJTA5JTA5JTA5aWYoYSU1QmklNUQlM0UlM0RiJTVCaiU1RCklN0IlMEElMDklMDklMDklMjAlMjAlMjAlMjBvayU1QmolNUQlM0QxJTNCJTBBJTA5JTA5JTA5JTA5YW5zJTJCJTJCJTNCJTBBJTA5JTA5JTA5JTA5YnJlYWslM0IlMkYlMkYlRTglODMlQkQlRTUlODklQUElRTUlQjAlQjElRTUlODklQUElRUYlQkMlOEMlRTUlODklQUElRTUlQUUlOEMlRTQlQjklOEIlRTUlOTAlOEUlRTglQUYlQTUlRTUlODklQUElRTUlODglODAlRTUlQjAlQjElRTQlQjglOEQlRTglODMlQkQlRTclOTQlQTglRTQlQkElODYlRUYlQkMlOEMlRTUlODYlODUlRTUlQjElODIlRTUlQkUlQUElRTclOEUlQUYlRTglQTYlODElRTglQjclQjMlRTUlODclQkElRTUlOEUlQkIlMEElMDklMDklMDklN0QlMEElMDklMDklN0QlMEElMDklN0QlMEElMDljb3V0JTNDJTNDYW5zJTNCJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> a[<span class="hljs-number">200005</span>],b[<span class="hljs-number">200005</span>],ok[<span class="hljs-number">200005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++) cin&gt;&gt;b[i];
	<span class="hljs-built_in">sort</span>(a<span class="hljs-number">+1</span>,a+n<span class="hljs-number">+1</span>);
	<span class="hljs-built_in">sort</span>(b<span class="hljs-number">+1</span>,b+m<span class="hljs-number">+1</span>);
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>;j&lt;=m;j++){
			<span class="hljs-keyword">if</span>(ok[j]!=<span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>;<span class="hljs-comment">//说明已经树枝被剪掉了，跳过</span>
			<span class="hljs-keyword">if</span>(a[i]&gt;=b[j]){
			    ok[j]=<span class="hljs-number">1</span>;
				ans++;
				<span class="hljs-keyword">break</span>;<span class="hljs-comment">//能剪就剪，剪完之后该剪刀就不能用了，内层循环要跳出去</span>
			}
		}
	}
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码的时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nm)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">nm</span><span class="mclose">)</span></span></span></span> ，可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">1\sim10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> 期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>40</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">40pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">40</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-wu-zheng-jie" tabindex="-1">算法五（正解）</h3>
<p>算法四其实是有很多没必要的操作的。你观察一下就会发现，树枝一定是从硬度最小的树枝开始从小到大剪的。所以对于每个剪刀，你其实没必要每次都从头枚举 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> 数组，你只需要从上回循环跳出的位置继续枚举即可。</p>
<p>实际上你并不需要继续枚举，你只需要判断一下就行，因为当前可以剪的硬度最小的树枝你都剪不掉，硬度更大的树枝更剪不掉了。</p>
<p>具体参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQSUyM2RlZmluZSUyMF8lMjAyMDAwMDUlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMGElNUJfJTVEJTJDYiU1Ql8lNUQlM0IlMEFzaWduZWQlMjBtYWluKCklN0IlMEElMDlpb3MlM0ElM0FzeW5jX3dpdGhfc3RkaW8oZmFsc2UpJTNCJTBBJTA5aW50JTIwbiUyQ20lM0JjaW4lM0UlM0VuJTNFJTNFbSUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBjaW4lM0UlM0VhJTVCaSU1RCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RtJTNCaSUyQiUyQiklMjBjaW4lM0UlM0ViJTVCaSU1RCUzQiUwQSUwOXNvcnQoYSUyQjElMkNhJTJCbiUyQjEpJTNCJTBBJTA5c29ydChiJTJCMSUyQ2IlMkJtJTJCMSklM0IlMEElMDlpbnQlMjBwJTNEMSUyQ2FucyUzRDAlM0IlMkYlMkZwJUU3JTk0JUE4JUU2JTlEJUE1JUU4JUFFJUIwJUU1JUJEJTk1JUU1JUJEJTkzJUU1JTg5JThEJUU2JTlFJTlBJUU0JUI4JUJFJUU1JTg4JUIwJUU3JTlBJTg0YiVFNiU5NSVCMCVFNyVCQiU4NCVFNyU5QSU4NCVFNCVCRCU4RCVFNyVCRCVBRSUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklN0IlMEElMDklMDlpZihhJTVCaSU1RCUzRSUzRGIlNUJwJTVEKSU3QiUwQSUwOSUwOSUwOWFucyUyQiUyQiUzQiUwQSUwOSUwOSUwOXAlMkIlMkIlM0IlMkYlMkZiJTVCcCU1RCVFOCVCRiU5OSVFNCVCOCVBQSVFNiVBMCU5MSVFNiU5RSU5RCVFOCVBMiVBQiVFNSU4OSVBQSVFNCVCQSU4NiVFRiVCQyU4QyVFOCVBRSVBOXAlMkIxJUVGJUJDJThDJUU0JUI4JThCJUU1JTlCJTlFJUU1JUJFJUFBJUU3JThFJUFGJUU1JUIwJUIxJUU1JTg4JUE0JUU2JTk2JUFEYiU1QnAlMkIxJTVEJUU0JUJBJTg2JTBBJTA5JTA5JTA5aWYocCUzRW0pJTIwYnJlYWslM0IlMkYlMkZwJUU5JTgzJUJEJUU2JUFGJTk0bSVFNSVBNCVBNyVFNCVCQSU4NiVFRiVCQyU4QyVFNyU5QiVCNCVFNiU4RSVBNSVFOCVCNyVCMyVFNSU4NyVCQSVFNSVCRSVBQSVFNyU4RSVBRiUwQSUwOSUwOSU3RCUwQSUwOSU3RCUwQSUwOWNvdXQlM0MlM0NhbnMlM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> _ 200005</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> a[_],b[_];
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);
	<span class="hljs-type">int</span> n,m;cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++) cin&gt;&gt;b[i];
	<span class="hljs-built_in">sort</span>(a<span class="hljs-number">+1</span>,a+n<span class="hljs-number">+1</span>);
	<span class="hljs-built_in">sort</span>(b<span class="hljs-number">+1</span>,b+m<span class="hljs-number">+1</span>);
	<span class="hljs-type">int</span> p=<span class="hljs-number">1</span>,ans=<span class="hljs-number">0</span>;<span class="hljs-comment">//p用来记录当前枚举到的b数组的位置</span>
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
		<span class="hljs-keyword">if</span>(a[i]&gt;=b[p]){
			ans++;
			p++;<span class="hljs-comment">//b[p]这个树枝被剪了，让p+1，下回循环就判断b[p+1]了</span>
			<span class="hljs-keyword">if</span>(p&gt;m) <span class="hljs-keyword">break</span>;<span class="hljs-comment">//p都比m大了，直接跳出循环</span>
		}
	}
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>时间复杂度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> ，可以通过所有测试点，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">100pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">100</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<p>其他验题者代码：</p>
<p>范铭轩：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWNvbnN0JTIwaW50JTIwTiUyMCUzRCUyMDIwMDAwNSUzQiUwQWludCUyMGElNUJOJTVEJTJDYiU1Qk4lNUQlM0IlMEElMEFpbnQlMjBtYWluKCklN0IlMEElMDlpbnQlMjBuJTJDbSUzQiUwQSUwOWNpbiUzRSUzRW4lM0UlM0VtJTNCJTBBJTA5Zm9yKGludCUyMGklMjAlM0QlMjAxJTNCaSUyMCUzQyUzRCUyMG4lM0IlMkIlMkIlMjBpKSUyMGNpbiUzRSUzRWElNUJpJTVEJTNCJTBBJTA5Zm9yKGludCUyMGklMjAlM0QlMjAxJTNCaSUyMCUzQyUzRCUyMG0lM0IlMkIlMkIlMjBpKSUyMGNpbiUzRSUzRWIlNUJpJTVEJTNCJTBBJTA5c29ydChhJTIwJTJCJTIwMSUyQ2ElMjAlMkIlMjBuJTIwJTJCJTIwMSklM0IlMEElMDlzb3J0KGIlMjAlMkIlMjAxJTJDYiUyMCUyQiUyMG0lMjAlMkIlMjAxKSUzQiUwQSUwOWludCUyMHglMjAlM0QlMjAxJTJDeSUyMCUzRCUyMDElMkNhbnMlMjAlM0QlMjAwJTNCJTBBJTA5d2hpbGUoeCUyMCUzQyUzRCUyMG4lMjAlMjYlMjYlMjB5JTIwJTNDJTNEJTIwbSklN0IlMEElMDklMDl3aGlsZSh4JTIwJTNDJTNEJTIwbiUyMCUyNiUyNiUyMGElNUJ4JTVEJTIwJTNDJTIwYiU1QnklNUQpJTIweCUyMCUyQiUyQiUzQiUwQSUwOSUwOWlmKHglMjAlM0UlMjBuKSUyMGJyZWFrJTNCJTBBJTA5JTA5YW5zJTIwJTJCJTJCJTNCJTBBJTA5JTA5eCUyMCUyQiUyQiUzQiUwQSUwOSUwOXklMjAlMkIlMkIlM0IlMEElMDklN0QlMEElMDljb3V0JTNDJTNDYW5zJTNCJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">200005</span>;
<span class="hljs-type">int</span> a[N],b[N];

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n,m;
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i) cin&gt;&gt;a[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= m;++ i) cin&gt;&gt;b[i];
	<span class="hljs-built_in">sort</span>(a + <span class="hljs-number">1</span>,a + n + <span class="hljs-number">1</span>);
	<span class="hljs-built_in">sort</span>(b + <span class="hljs-number">1</span>,b + m + <span class="hljs-number">1</span>);
	<span class="hljs-type">int</span> x = <span class="hljs-number">1</span>,y = <span class="hljs-number">1</span>,ans = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">while</span>(x &lt;= n &amp;&amp; y &lt;= m){
		<span class="hljs-keyword">while</span>(x &lt;= n &amp;&amp; a[x] &lt; b[y]) x ++;
		<span class="hljs-keyword">if</span>(x &gt; n) <span class="hljs-keyword">break</span>;
		ans ++;
		x ++;
		y ++;
	}
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>王添翼：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2lvc3RyZWFtJTNFJTBBJTIzaW5jbHVkZSUzQ2FsZ29yaXRobSUzRSUwQSUyM2RlZmluZSUyMGludCUyMGxvbmclMjBsb25nJTBBdXNpbmclMjBuYW1lc3BhY2UlMjBzdGQlM0IlMEElMEFjb25zdCUyMGludCUyME4lMjAlM0QlMjAyZTUlM0IlMEFpbnQlMjBhJTVCTiUyQjEwJTVEJTIwJTJDJTIwYiU1Qk4lMkIxMCU1RCUzQiUwQWludCUyMG4lMjAlMkMlMjBtJTIwJTJDJTIwYW5zJTIwJTJDJTIwYXAlMjAlMkMlMjBicCUzQiUwQSUwQXNpZ25lZCUyMG1haW4oKSU3QiUwQSUyMCUyMCUyMCUyMGNpbiUyMCUzRSUzRSUyMG4lMjAlM0UlM0UlMjBtJTNCJTBBJTIwJTIwJTIwJTIwZm9yKGludCUyMGklMjAlM0QlMjAxJTNCaSUyMCUzQyUzRCUyMG4lM0JpJTIwJTJCJTJCKSUyMGNpbiUyMCUzRSUzRSUyMGElNUJpJTVEJTNCJTBBJTIwJTIwJTIwJTIwc29ydCglMjBhJTIwJTJCJTIwMSUyMCUyQyUyMGElMjAlMkIlMjBuJTIwJTJCJTIwMSUyMCklM0IlMEElMjAlMjAlMjAlMjBmb3IoaW50JTIwaSUyMCUzRCUyMDElM0JpJTIwJTNDJTNEJTIwbSUzQmklMjAlMkIlMkIpJTIwY2luJTIwJTNFJTNFJTIwYiU1QmklNUQlM0IlMEElMjAlMjAlMjAlMjBzb3J0KCUyMGIlMjAlMkIlMjAxJTIwJTJDJTIwYiUyMCUyQiUyMG0lMjAlMkIlMjAxJTIwKSUzQiUwQSUyMCUyMCUyMCUyMGFwJTIwJTNEJTIwMSUyMCUyQyUyMGJwJTIwJTNEJTIwMCUzQiUwQSUyMCUyMCUyMCUyMHdoaWxlKCUyMGFwJTIwISUzRCUyMG4lMkIxJTIwYW5kJTIwYnAlMjAhJTNEJTIwbSUyMCklN0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBpZiglMjBhJTVCYXAlNUQlMjAlM0UlM0QlMjBiJTVCYnAlMkIxJTVEJTIwKSU3QiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGFwJTIwJTJCJTJCJTIwJTJDJTIwYnAlMjAlMkIlMkIlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlN0QlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBlbHNlJTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwYXAlMjAlMkIlMkIlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlN0QlMEElMjAlMjAlMjAlMjAlN0QlMEElMjAlMjAlMjAlMjBjb3V0JTIwJTNDJTNDJTIwYnAlMjAlM0MlM0MlMjBlbmRsJTNCJTBBJTIwJTIwJTIwJTIwcmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;algorithm&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span>;
<span class="hljs-type">int</span> a[N<span class="hljs-number">+10</span>] , b[N<span class="hljs-number">+10</span>];
<span class="hljs-type">int</span> n , m , ans , ap , bp;

<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    cin &gt;&gt; n &gt;&gt; m;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) cin &gt;&gt; a[i];
    <span class="hljs-built_in">sort</span>( a + <span class="hljs-number">1</span> , a + n + <span class="hljs-number">1</span> );
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= m;i ++) cin &gt;&gt; b[i];
    <span class="hljs-built_in">sort</span>( b + <span class="hljs-number">1</span> , b + m + <span class="hljs-number">1</span> );
    ap = <span class="hljs-number">1</span> , bp = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>( ap != n<span class="hljs-number">+1</span> <span class="hljs-keyword">and</span> bp != m ){
        <span class="hljs-keyword">if</span>( a[ap] &gt;= b[bp<span class="hljs-number">+1</span>] ){
            ap ++ , bp ++;
        }
        <span class="hljs-keyword">else</span>{
            ap ++;
        }
    }
    cout &lt;&lt; bp &lt;&lt; endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>路浩祥</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUyMCUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMG4lMkNtJTJDYSU1QjIwMDAwNSU1RCUyQ2IlNUIyMDAwMDUlNUQlMkNhbnMlM0IlMEFpbnQlMjBtYWluKCklMEElN0IlMEElMDljaW4lM0UlM0VuJTNFJTNFbSUzQiUwQSUwOWZvciUyMChpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMEElMDklMDlzY2FuZiglMjIlMjVkJTIyJTJDJTI2YSU1QmklNUQpJTNCJTBBJTA5Zm9yJTIwKGludCUyMGklM0QxJTNCaSUzQyUzRG0lM0JpJTJCJTJCKSUwQSUwOSUwOXNjYW5mKCUyMiUyNWQlMjIlMkMlMjZiJTVCaSU1RCklM0IlMEElMDlzb3J0KGElMkIxJTJDYSUyQm4lMkIxKSUzQiUwQSUwOXNvcnQoYiUyQjElMkNiJTJCbSUyQjEpJTNCJTBBJTA5aW50JTIwaSUyMCUzRCUyMDElMkMlMjBqJTIwJTNEJTIwMSUyQyUyMGNvdW50JTIwJTNEJTIwMCUzQiUwQSUyMCUyMCUyMCUyMHdoaWxlJTIwKGklMjAlM0MlM0QlMjBuJTIwJTI2JTI2JTIwaiUyMCUzQyUzRCUyMG0pJTBBJTA5JTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaWYlMjAoYSU1QmklNUQlMjAlM0UlM0QlMjBiJTVCaiU1RCklMEElMDklMDklN0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBjb3VudCUyQiUyQiUzQiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGklMkIlMkIlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBqJTJCJTJCJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTdEJTBBJTA5JTA5ZWxzZSUyMGklMkIlMkIlM0IlMEElMjAlMjAlMjAlMjAlN0QlMEElMDlwcmludGYoJTIyJTI1ZCUyMiUyQ2NvdW50KSUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> n,m,a[<span class="hljs-number">200005</span>],b[<span class="hljs-number">200005</span>],ans;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	cin&gt;&gt;n&gt;&gt;m;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)
		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i]);
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)
		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;b[i]);
	<span class="hljs-built_in">sort</span>(a<span class="hljs-number">+1</span>,a+n<span class="hljs-number">+1</span>);
	<span class="hljs-built_in">sort</span>(b<span class="hljs-number">+1</span>,b+m<span class="hljs-number">+1</span>);
	<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">1</span>, count = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (i &lt;= n &amp;&amp; j &lt;= m)
	{
        <span class="hljs-keyword">if</span> (a[i] &gt;= b[j])
		{
            count++;
            i++;
            j++;
        }
		<span class="hljs-keyword">else</span> i++;
    }
	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,count);
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<h2 id="t3-qu-mo" tabindex="-1">T3 取模</h2>
<h3 id="gai-lan-3" tabindex="-1">概览</h3>
<p>本题的突破点在于选手能否发现所谓的&quot;完全取模&quot;的规律，在规律找到之后如何使用代码来更好地计算也是个挑战。</p>
<p>需要选手具有较高的思维水平。</p>
<p>难度：<span style="color: rgb(255,193,22)">普及/提高-</span>。题目可以放在NOIP中的第一题位置作为签到题。</p>
<p>详细考察点：C++ 基本语法、找规律、前缀和算法、高斯求和公式、取模运算、时间复杂度分析</p>
<h3 id="suan-fa-yi-2" tabindex="-1">算法一</h3>
<p>题目怎么说你就怎么做。</p>
<p>注意取模，还有 <code>#define int long long</code> 这些东西。都是课上讲的。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBtb2QlM0QxOTI2MDgxNyUzQiUwQXZvaWQlMjBzb2x2ZSgpJTdCJTBBJTA5aW50JTIwbCUyQ3IlMkNtJTJDbiUzQiUwQSUwOWNpbiUzRSUzRWwlM0UlM0VyJTNFJTNFbSUzRSUzRW4lM0IlMEElMDlpbnQlMjBhbnMlM0QwJTNCJTBBJTA5Zm9yKGludCUyMGklM0RsJTNCaSUzQyUzRHIlM0JpJTJCJTJCKSU3QiUwQSUwOSUwOWludCUyMHglM0RpJTNCJTBBJTA5JTA5Zm9yKGludCUyMGolM0RuJTNCaiUzRSUzRG0lM0JqLS0pJTdCJTBBJTA5JTA5JTA5eCUyNSUzRGolM0IlMEElMDklMDklN0QlMEElMDklMDlhbnMlMkIlM0R4JTNCJTBBJTA5JTA5YW5zJTI1JTNEbW9kJTNCJTBBJTA5JTdEJTBBJTA5Y291dCUzQyUzQ2FucyUzQyUzQ2VuZGwlM0IlMEElN0QlMEFzaWduZWQlMjBtYWluKCklN0IlMEElMDlpbnQlMjBUJTNCY2luJTNFJTNFVCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RUJTNCaSUyQiUyQiklMjBzb2x2ZSgpJTNCJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> mod=<span class="hljs-number">19260817</span>;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> l,r,m,n;
	cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=l;i&lt;=r;i++){
		<span class="hljs-type">int</span> x=i;
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=n;j&gt;=m;j--){
			x%=j;
		}
		ans+=x;
		ans%=mod;
	}
	cout&lt;&lt;ans&lt;&lt;endl;
}
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> T;cin&gt;&gt;T;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=T;i++) <span class="hljs-built_in">solve</span>();
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>时间复杂度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mi>r</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(Trn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 仅能通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">1\sim3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">12pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">12</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-er-2" tabindex="-1">算法二</h3>
<p>考虑特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>，我们直到如果一个数对比他还大的数取模，就等于他本身了，因此这种性质下，就相当于把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 区间内的所有数组都加起来。</p>
<p>我们有下面这几个方案</p>
<p><strong>做法一</strong></p>
<p>直接开循环求和，我们练习题做过类似的。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBtb2QlM0QxOTI2MDgxNyUzQiUwQXZvaWQlMjBzb2x2ZSgpJTdCJTBBJTA5aW50JTIwbCUyQ3IlMkNtJTJDbiUzQiUwQSUwOWNpbiUzRSUzRWwlM0UlM0VyJTNFJTNFbSUzRSUzRW4lM0IlMEElMDlpbnQlMjBhbnMlM0QwJTNCJTBBJTA5Zm9yKGludCUyMGklM0RsJTNCaSUzQyUzRHIlM0JpJTJCJTJCKSU3QiUwQSUwOSUwOWFucyUyQiUzRGklM0IlMEElMDklMDlhbnMlMjUlM0Rtb2QlM0IlMEElMDklN0QlMEElMDljb3V0JTNDJTNDYW5zJTNDJTNDZW5kbCUzQiUwQSU3RCUwQXNpZ25lZCUyMG1haW4oKSU3QiUwQSUwOWludCUyMFQlM0JjaW4lM0UlM0VUJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRFQlM0JpJTJCJTJCKSUyMHNvbHZlKCklM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> mod=<span class="hljs-number">19260817</span>;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> l,r,m,n;
	cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=l;i&lt;=r;i++){
		ans+=i;
		ans%=mod;
	}
	cout&lt;&lt;ans&lt;&lt;endl;
}
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> T;cin&gt;&gt;T;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=T;i++) <span class="hljs-built_in">solve</span>();
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>时间复杂度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><msup><mi>r</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(Tr^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 仅能通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">4pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span></p>
<p><strong>做法二</strong></p>
<p>当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">l=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 的时候，就相当于从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 一直加到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>，有高斯的求和公式：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>r</mi><mo stretchy="false">(</mo><mi>r</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{r(r+1)}{2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>就可以做到时间复杂度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span></span></span></span>。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBtb2QlM0QxOTI2MDgxNyUzQiUwQXZvaWQlMjBzb2x2ZSgpJTdCJTBBJTA5aW50JTIwbCUyQ3IlMkNtJTJDbiUzQiUwQSUwOWNpbiUzRSUzRWwlM0UlM0VyJTNFJTNFbSUzRSUzRW4lM0IlMEElMDlpbnQlMjBhbnMlM0QwJTNCJTBBJTA5YW5zJTNEcioociUyQjEpJTJGMiUzQiUwQSUwOWFucyUyNSUzRG1vZCUzQiUwQSUwOWNvdXQlM0MlM0NhbnMlM0MlM0NlbmRsJTNCJTBBJTdEJTBBc2lnbmVkJTIwbWFpbigpJTdCJTBBJTA5aW50JTIwVCUzQmNpbiUzRSUzRVQlM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEVCUzQmklMkIlMkIpJTIwc29sdmUoKSUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> mod=<span class="hljs-number">19260817</span>;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> l,r,m,n;
	cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	ans=r*(r<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>;
	ans%=mod;
	cout&lt;&lt;ans&lt;&lt;endl;
}
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> T;cin&gt;&gt;T;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=T;i++) <span class="hljs-built_in">solve</span>();
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>∼</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">5\sim6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">8pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">8</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<p><strong>做法三</strong></p>
<p>那么 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> 不等于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 开始呢，求和公式是不是就用不上了？
其实是还可以用上，我们考虑一种前缀和的思想，我们令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">sum_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 为从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 加到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>，那么区间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 内所有数字相加即为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>r</mi></msub><mo>−</mo><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow><mi>l</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">sum_r-sum_{l-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span>。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBtb2QlM0QxOTI2MDgxNyUzQiUwQXZvaWQlMjBzb2x2ZSgpJTdCJTBBJTA5aW50JTIwbCUyQ3IlMkNtJTJDbiUzQiUwQSUwOWNpbiUzRSUzRWwlM0UlM0VyJTNFJTNFbSUzRSUzRW4lM0IlMEElMDlpbnQlMjBhbnMlM0QwJTNCJTBBJTA5aW50JTIwc3VtMSUzRHIqKHIlMkIxKSUyRjIlM0JzdW0xJTI1JTNEbW9kJTNCJTBBJTA5aW50JTIwc3VtMiUzRChsLTEpKmwlMkYyJTNCc3VtMiUyNSUzRG1vZCUzQiUwQSUwOWFucyUzRChzdW0xLXN1bTIlMkJtb2QpJTI1bW9kJTNCJTBBJTA5Y291dCUzQyUzQ2FucyUzQyUzQ2VuZGwlM0IlMEElN0QlMEFzaWduZWQlMjBtYWluKCklN0IlMEElMDlpbnQlMjBUJTNCY2luJTNFJTNFVCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RUJTNCaSUyQiUyQiklMjBzb2x2ZSgpJTNCJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> mod=<span class="hljs-number">19260817</span>;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> l,r,m,n;
	cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	<span class="hljs-type">int</span> sum1=r*(r<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>;sum1%=mod;
	<span class="hljs-type">int</span> sum2=(l<span class="hljs-number">-1</span>)*l/<span class="hljs-number">2</span>;sum2%=mod;
	ans=(sum1-sum2+mod)%mod;
	cout&lt;&lt;ans&lt;&lt;endl;
}
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> T;cin&gt;&gt;T;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=T;i++) <span class="hljs-built_in">solve</span>();
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>∼</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">4\sim8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">20pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">20</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-san-2" tabindex="-1">算法三</h3>
<p>先考虑特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span>。由于每组之间的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 都相同，我们可以预处理一下。先计算从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><msup><mn>10</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">2\times10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> 中每个数完全取模后的结果，放到数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">pre</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">re</span></span></span></span>。中，然后每组数据，只需要从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">pre[l]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">re</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span></span></span></span> 加到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">pre[r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">re</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 即可求出答案。</p>
<p>但这样如果不算上预处理，光处理询问，时间复杂度就是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(Tr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span> 的，并不能给我们很多分数。</p>
<p>这种对一个数列多次询问区间总和的问题，我们可以使用前缀和算法。这样复杂度就到了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span></span></span></span> 了。</p>
<p>但我们再考虑预处理，每个数组都完全取模，时间复杂度要到达 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><msup><mn>10</mn><mn>6</mn></msup><mo>×</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2\times10^6\times n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，依然不能给我们很多分数。</p>
<p>我们继续考虑，如果一个数对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 取模之后，得到的数仍然落在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[m,n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">]</span></span></span></span> 这个区间上，那么后续完全取模之后必然为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，因为你必然会对他本身取模的。反之完全取模后就直接是仅对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 取模后的结果。所以其实所谓的完全取模只需取模一次再判断一下就可以了。这样时间复杂度就到了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><msup><mn>10</mn><mn>6</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2\times 10^6)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBtb2QlM0QxOTI2MDgxNyUzQiUwQWludCUyMHByZSU1QjIwMDAwMDYlNUQlMkNzdW0lNUIyMDAwMDA2JTVEJTNCJTBBaW50JTIwZmxhZyUzRDAlM0IlMkYlMkYlRTYlOTglQUYlRTUlOTAlQTYlRTUlQjclQjIlRTclQkIlOEYlRTklQTIlODQlRTUlQTQlODQlRTclOTAlODYlRTglQkYlODclRTQlQkElODYlMEF2b2lkJTIwc29sdmUoKSU3QiUwQSUwOWludCUyMGwlMkNyJTJDbSUyQ24lM0IlMEElMDljaW4lM0UlM0VsJTNFJTNFciUzRSUzRW0lM0UlM0VuJTNCJTBBJTA5aWYoZmxhZyUzRCUzRDApJTdCJTBBJTA5JTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRDIwMDAwMDAlM0JpJTJCJTJCKSU3QiUwQSUwOSUwOSUwOWlmKGklMjVuJTNFJTNEbSklMjBwcmUlNUJpJTVEJTNEMCUzQiUwQSUwOSUwOSUwOWVsc2UlMjBwcmUlNUJpJTVEJTNEaSUyNW4lM0IlMEElMDklMDklN0QlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlRTglQkYlOTklRTklODclOEMlRTYlOTglQUYlRTUlODklOEQlRTclQkMlODAlRTUlOTIlOEMlRTklQTIlODQlRTUlQTQlODQlRTclOTAlODYlMEElMDklMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEMjAwMDAwMCUzQmklMkIlMkIpJTdCJTBBJTA5JTA5JTA5c3VtJTVCaSU1RCUzRChzdW0lNUJpLTElNUQlMkJwcmUlNUJpJTVEKSUyNW1vZCUzQiUwQSUwOSUwOSU3RCUwQSUwOSUwOWZsYWclM0QxJTNCJTBBJTA5JTdEJTBBJTA5Y291dCUzQyUzQyhzdW0lNUJyJTVELXN1bSU1QmwtMSU1RCUyQm1vZCklMjVtb2QlM0MlM0NlbmRsJTNCJTBBJTdEJTBBc2lnbmVkJTIwbWFpbigpJTdCJTBBJTA5aW50JTIwVCUzQmNpbiUzRSUzRVQlM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEVCUzQmklMkIlMkIpJTIwc29sdmUoKSUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> mod=<span class="hljs-number">19260817</span>;
<span class="hljs-type">int</span> pre[<span class="hljs-number">2000006</span>],sum[<span class="hljs-number">2000006</span>];
<span class="hljs-type">int</span> flag=<span class="hljs-number">0</span>;<span class="hljs-comment">//是否已经预处理过了</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> l,r,m,n;
	cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
	<span class="hljs-keyword">if</span>(flag==<span class="hljs-number">0</span>){
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">2000000</span>;i++){
			<span class="hljs-keyword">if</span>(i%n&gt;=m) pre[i]=<span class="hljs-number">0</span>;
			<span class="hljs-keyword">else</span> pre[i]=i%n;
		}
        <span class="hljs-comment">//这里是前缀和预处理</span>
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">2000000</span>;i++){
			sum[i]=(sum[i<span class="hljs-number">-1</span>]+pre[i])%mod;
		}
		flag=<span class="hljs-number">1</span>;
	}
	cout&lt;&lt;(sum[r]-sum[l<span class="hljs-number">-1</span>]+mod)%mod&lt;&lt;endl;
}
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> T;cin&gt;&gt;T;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=T;i++) <span class="hljs-built_in">solve</span>();
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>13</mn><mo>∼</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">13\sim 16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">13</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">16pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">16</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-si-1" tabindex="-1">算法四</h3>
<p>考虑性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>，若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 相同，则相当于把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 上所有的数字对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 取模后相加。数字从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 开始依次对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 取模，我们能发现存在规律。比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">m=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 时，</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">%</mi><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1\%3=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">1%3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi mathvariant="normal">%</mi><mn>3</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2\%3=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">2%3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi mathvariant="normal">%</mi><mn>3</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">3\%3=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">3%3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi mathvariant="normal">%</mi><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">4\%3=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">4%3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi mathvariant="normal">%</mi><mn>3</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">5\%3=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">5%3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mi mathvariant="normal">%</mi><mn>3</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">6\%3=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">6%3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mi mathvariant="normal">%</mi><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">7\%3=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">7%3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
</li>
<li>
<p>......</p>
</li>
</ul>
<p>最后结果，应该是从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 增长到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，然后是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> ，这样的片段不断重复。又比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">m=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> 时是这样的</p>
<p><code>12340 12340 12340 12340 12340 12340..</code></p>
<p>我们将 <code>12340</code> 这样的称为一个块，发现块长度就为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>，块内所有数字之和为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>m</mi><mo stretchy="false">(</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{m(m-1)}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">m</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。</p>
<p>然后我们应该是可以通过简单的数学计算来求出位于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 区间内这些数字之和了。不过需要注意的是，有可能是这样的：</p>
<p><div class="img-box"><img class="lazy" date-src="https://pic.caiwen.work/i/2025/01/24/679352a7552f9.png" style="transform: scale(1)" width=1305 height=200></div></p>
<p>也就是询问的区间包含了不完整的块。这种情况下处理起来不太方便。</p>
<p>我们再回想之前算法二中做法三的做法以及性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 给我们的提示，我们不难发现，处理 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 这种区间，也就是左端点是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 开头的，是比较简单的，因为这样你只需要考虑右边那个完整的块了。至于要求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 的答案，只需要求出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 的答案和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,l-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 的答案再一减就好了。</p>
<p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 这种区间，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">⌊</mo><mfrac><mi>r</mi><mi>m</mi></mfrac><mo fence="true">⌋</mo></mrow><annotation encoding="application/x-tex">\left \lfloor \frac{r}{m} \right \rfloor </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">⌋</span></span></span></span></span></span> 为包含了多少个块。然后 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi mathvariant="normal">%</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">r\%m </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">%</span><span class="mord mathnormal">m</span></span></span></span> 即为最后那个不完整的块的长度，记为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>，于是那个不完整的块内的数字求和为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{k(k+1)}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 。</p>
<p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,l-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 区间同理。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBtb2QlM0QxOTI2MDgxNyUzQiUwQXZvaWQlMjBzb2x2ZSgpJTdCJTBBJTA5aW50JTIwbCUyQ3IlMkNtJTJDbiUzQiUwQSUwOWNpbiUzRSUzRWwlM0UlM0VyJTNFJTNFbSUzRSUzRW4lM0IlMEElMDlpbnQlMjBzdW0lM0RtKihtLTEpJTJGMiUyNW1vZCUzQiUwQSUwOWludCUyMGNudDElM0RyJTJGbSUzQiUwQSUwOWludCUyMGsxJTNEciUyNW0lM0IlMEElMDlpbnQlMjBzdW0xJTNEKGNudDEqc3VtJTI1bW9kJTJCazEqKGsxJTJCMSklMkYyJTI1bW9kKSUyNW1vZCUzQiUwQSUwQSUwOWludCUyMGNudDIlM0QobC0xKSUyRm0lM0IlMEElMDlpbnQlMjBrMiUzRChsLTEpJTI1bSUzQiUwQSUwOWludCUyMHN1bTIlM0QoY250MipzdW0lMjVtb2QlMkJrMiooazIlMkIxKSUyRjIlMjVtb2QpJTI1bW9kJTNCJTBBJTA5Y291dCUzQyUzQyhzdW0xLXN1bTIlMkJtb2QpJTI1bW9kJTNDJTNDZW5kbCUzQiUwQSU3RCUwQXNpZ25lZCUyMG1haW4oKSU3QiUwQSUwOWludCUyMFQlM0JjaW4lM0UlM0VUJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRFQlM0JpJTJCJTJCKSUyMHNvbHZlKCklM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> mod=<span class="hljs-number">19260817</span>;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> l,r,m,n;
	cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
	<span class="hljs-type">int</span> sum=m*(m<span class="hljs-number">-1</span>)/<span class="hljs-number">2</span>%mod;
	<span class="hljs-type">int</span> cnt1=r/m;
	<span class="hljs-type">int</span> k1=r%m;
	<span class="hljs-type">int</span> sum1=(cnt1*sum%mod+k1*(k1<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>%mod)%mod;

	<span class="hljs-type">int</span> cnt2=(l<span class="hljs-number">-1</span>)/m;
	<span class="hljs-type">int</span> k2=(l<span class="hljs-number">-1</span>)%m;
	<span class="hljs-type">int</span> sum2=(cnt2*sum%mod+k2*(k2<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>%mod)%mod;
	cout&lt;&lt;(sum1-sum2+mod)%mod&lt;&lt;endl;
}
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> T;cin&gt;&gt;T;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=T;i++) <span class="hljs-built_in">solve</span>();
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo>∼</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">9\sim 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">16pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">16</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-wu-zheng-jie-1" tabindex="-1">算法五（正解）</h3>
<p>考虑性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 的时候我们试了几个数找出了规律，对于一般规律我们应该也是可以的。我们先假设 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>3</mn><mtext>，</mtext><mi>n</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">m=3，n=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">3</span><span class="mord cjk_fallback">，</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>，然后从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 开始一个一个看：</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 完全取模后为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 完全取模后为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 完全取模后为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> 完全取模后为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> 完全取模后为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> 完全取模后为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
</li>
</ul>
<p>然后你发现完全取模后的序列大概是</p>
<p><code>12000 12000 12000 ...</code></p>
<p>这样的。</p>
<p>然后如果取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>4</mn><mtext>，</mtext><mi>n</mi><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">m=4，n=6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord cjk_fallback">，</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span>，那么大概是这样的</p>
<p><code>123000 123000 123000 ...</code></p>
<p>然后你发现，块长度还是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 。但从第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 个数开始完全取模就为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> 了，所以我们只需要在算法四代码的基础上稍加修改即可。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBtb2QlM0QxOTI2MDgxNyUzQiUwQXNpZ25lZCUyMG1haW4oKSU3QiUwQSUwOWlvcyUzQSUzQXN5bmNfd2l0aF9zdGRpbyhmYWxzZSklM0IlMEElMDlpbnQlMjBUJTNCY2luJTNFJTNFVCUzQiUwQSUwOXdoaWxlKFQtLSklN0IlMEElMDklMDlpbnQlMjBsJTJDciUyQ20lMkNuJTNCY2luJTNFJTNFbCUzRSUzRXIlM0UlM0VtJTNFJTNFbiUzQiUwQSUwOSUwOWwtLSUzQiUyRiUyRiVFNyVCQiU5OWwtMSVFRiVCQyU4QyVFOCVCRiU5OSVFNiVBMCVCNyVFNSU5MCU4RSVFOSU5RCVBMiVFNyU5QiVCNCVFNiU4RSVBNSVFNiU4QiVCRmwlRTglQUUlQTElRTclQUUlOTclRTUlOEQlQjMlRTUlOEYlQUYlMEElMDklMDlpZihtJTNDJTNEMSklN0IlMkYlMkYlRTUlODglQTQlRTYlOTYlQUQlRTQlQjglODAlRTclQTclOEQlRTclODklQjklRTYlQUUlOEElRTYlODMlODUlRTUlODYlQjUlMEElMDklMDklMDljb3V0JTNDJTNDMCUzQyUzQ2VuZGwlM0IlMEElMDklMDklMDljb250aW51ZSUzQiUwQSUwOSUwOSU3RCUwQSUwOSUwOWludCUyMHN1bSUzRG0qKG0tMSklMkYyJTI1bW9kJTNCJTIwJTJGJTJGJUU0JUI4JTgwJUU0JUI4JUFBJUU1JTlEJTk3JUU0JUI4JUFEJUU2JTg5JTgwJUU2JTlDJTg5JUU3JTlBJTg0JUU2JTk1JUIwJUU0JUI5JThCJUU1JTkyJThDJTBBJTBBJTA5JTA5aW50JTIwdiUzRHIlMkZuKnN1bSUyNW1vZCUzQiUyRiUyRiVFNSVBRSU4QyVFNiU5NSVCNCVFNSU5RCU5NyVFNSU4NiU4NSVFNiU4OSU4MCVFNiU5QyU4OSVFNiU5NSVCMCVFNCVCOSU4QiVFNSU5MiU4QyUwQSUwOSUwOWludCUyMHZfJTNEbWluKG0tMSUyQ3IlMjVuKSUzQiUyRiUyRiVFNSU4OCVBNCVFNiU5NiVBRCVFNCVCRCU5OSVFNCVCOCU4QiVFNyU5QSU4NCVFNSU5RCU5NyVFOSU5NSVCRiVFNSVCQSVBNiVFRiVCQyU4QyVFNSVBNiU4MiVFNiU5RSU5QyVFNCVCRCU5OSVFNCVCOCU4QiVFNyU5QSU4NCVFNSU5RCU5NyVFOSU5NSVCRiVFNiVBRiU5NG0tMSVFOCVCRiU5OCVFNSVBNCVBNyVFRiVCQyU4QyVFOSU4MiVBMyVFNCVCOSU4OCVFNSVCMCVCMSVFNSU4RiU5Nm0tMSVFNSU4RCVCMyVFNSU4RiVBRiVFRiVCQyU4QyVFNSU5QiVBMCVFNCVCOCVCQSVFNyVBQyVBQ20lRTQlQjglQUElRTYlOTUlQjAlRTUlQkMlODAlRTUlQTclOEIlRTQlQjglQkEwJTBBJTA5JTA5diUyQiUzRHZfKih2XyUyQjEpJTJGMiUzQnYlMjUlM0Rtb2QlM0IlMkYlMkYlRTglQkYlOTklRTklODclOEMlRTclOTQlQTglRTQlQkElODYlRTYlQjElODIlRTUlOTIlOEMlRTUlODUlQUMlRTUlQkMlOEYlMEElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlRTUlOTAlOEMlRTclOTAlODYlMEElMDklMDlpbnQlMjB1JTNEbCUyRm4qc3VtJTI1bW9kJTNCJTBBJTA5JTA5aW50JTIwdV8lM0RtaW4obS0xJTJDbCUyNW4pJTNCJTBBJTA5JTA5dSUyQiUzRHVfKih1XyUyQjEpJTJGMiUzQnUlMjUlM0Rtb2QlM0IlMEElMDklMDklMkYlMkYlMEElMDklMDljb3V0JTNDJTNDKHYtdSUyQm1vZCklMjVtb2QlM0MlM0NlbmRsJTNCJTBBJTA5JTdEJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> mod=<span class="hljs-number">19260817</span>;
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);
	<span class="hljs-type">int</span> T;cin&gt;&gt;T;
	<span class="hljs-keyword">while</span>(T--){
		<span class="hljs-type">int</span> l,r,m,n;cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
		l--;<span class="hljs-comment">//给l-1，这样后面直接拿l计算即可</span>
		<span class="hljs-keyword">if</span>(m&lt;=<span class="hljs-number">1</span>){<span class="hljs-comment">//判断一种特殊情况</span>
			cout&lt;&lt;<span class="hljs-number">0</span>&lt;&lt;endl;
			<span class="hljs-keyword">continue</span>;
		}
		<span class="hljs-type">int</span> sum=m*(m<span class="hljs-number">-1</span>)/<span class="hljs-number">2</span>%mod; <span class="hljs-comment">//一个块中所有的数之和</span>

		<span class="hljs-type">int</span> v=r/n*sum%mod;<span class="hljs-comment">//完整块内所有数之和</span>
		<span class="hljs-type">int</span> v_=<span class="hljs-built_in">min</span>(m<span class="hljs-number">-1</span>,r%n);<span class="hljs-comment">//判断余下的块长度，如果余下的块长比m-1还大，那么就取m-1即可，因为第m个数开始为0</span>
		v+=v_*(v_<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>;v%=mod;<span class="hljs-comment">//这里用了求和公式</span>

        <span class="hljs-comment">//同理</span>
		<span class="hljs-type">int</span> u=l/n*sum%mod;
		<span class="hljs-type">int</span> u_=<span class="hljs-built_in">min</span>(m<span class="hljs-number">-1</span>,l%n);
		u+=u_*(u_<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>;u%=mod;
		<span class="hljs-comment">//</span>
		cout&lt;&lt;(v-u+mod)%mod&lt;&lt;endl;
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可通过全部测试点，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">100pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">100</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<p>以下是其他验题人的代码：</p>
<p>王添翼</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2lvc3RyZWFtJTNFJTBBJTIzaW5jbHVkZSUyMCUzQ3R5cGVpbmZvJTNFJTBBJTIzaW5jbHVkZSUzQ3N0cmluZyUzRSUwQSUyM2RlZmluZSUyMGludCUyMGxvbmclMjBsb25nJTBBdXNpbmclMjBuYW1lc3BhY2UlMjBzdGQlM0IlMEElMEFjb25zdCUyMGludCUyMHAlMjAlM0QlMjAxOTI2MDgxNyUzQiUwQSUwQWludCUyMGd1c3MoJTIwaW50JTIwbCUyMCUyQyUyMGludCUyMHIlMjApJTdCJTBBJTIwJTIwJTIwJTIwcmV0dXJuJTIwKChsJTJCcikqKHItbCUyQjEpJTJGMiklMjAlMjVwJTNCJTBBJTdEJTBBJTBBc2lnbmVkJTIwbWFpbigpJTdCJTBBJTIwJTIwJTIwJTIwaW50JTIwdCUzQiUwQSUyMCUyMCUyMCUyMGNpbiUyMCUzRSUzRSUyMHQlM0IlMEElMjAlMjAlMjAlMjBpbnQlMjBsJTIwJTJDJTIwciUyMCUyQyUyMG0lMjAlMkMlMjBuJTNCJTBBJTIwJTIwJTIwJTIwd2hpbGUoJTIwdCUyMC0tJTIwKSU3QiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGNpbiUyMCUzRSUzRSUyMGwlMjAlM0UlM0UlMjByJTIwJTNFJTNFJTIwbSUyMCUzRSUzRSUyMG4lM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBpbnQlMjBhbnMlMjAlM0QlMjAwJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaW50JTIweiUyMCUzRCUyMHIlMkZuJTIwLSUyMGwlMkZuJTNCJTBBJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaWYoJTIweiUyMCklN0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBpbnQlMjBsbSUyMCUzRCUyMGwlMjAlMjUlMjBuJTIwJTJDJTIwcm0lMjAlM0QlMjByJTIwJTI1JTIwbiUzQiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGlmKCUyMGxtJTIwJTNDJTIwbSUyMCklN0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBhbnMlMjAlMkIlM0QlMjBndXNzKCUyMGxtJTIwJTJDJTIwbS0xJTIwKSUyMCUyNSUyMHAlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBhbnMlMjAlMjUlM0QlMjBwJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTdEJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwYW5zJTIwJTJCJTNEJTIwKGd1c3MoJTIwMSUyMCUyQyUyMG0tMSUyMCklMjAqJTIwKHotMSklMjAlMjUlMjBwKSUzQiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGFucyUyMCUyNSUzRCUyMHAlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBhbnMlMjAlMkIlM0QlMjAoZ3VzcyglMjAxJTIwJTJDJTIwbWluKCUyMHJtJTIwJTJDJTIwbS0xJTIwKSUyMCklMjAlMjVwKSUzQiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGFucyUyMCUyNSUzRCUyMHAlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlN0QlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBlbHNlJTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwYW5zJTIwJTJCJTNEJTIwKGd1c3MoJTIwbCUyMCUyNSUyMG4lMjAlMkMlMjBtaW4oJTIwciUyNW4lMjAlMkMlMjBtLTElMjApJTIwKSUyNXApJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwYW5zJTIwJTI1JTNEJTIwcCUzQiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU3RCUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGFucyUyMCUyNSUzRCUyMHAlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBjb3V0JTIwJTNDJTNDJTIwKGFucyUzRTAlM0ZhbnMlM0EwKSUyMCUzQyUzQyUyMGVuZGwlM0IlMEElMjAlMjAlMjAlMjAlN0QlMEElMjAlMjAlMjAlMjByZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;typeinfo&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-type">const</span> <span class="hljs-type">int</span> p = <span class="hljs-number">19260817</span>;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">guss</span><span class="hljs-params">( <span class="hljs-type">int</span> l , <span class="hljs-type">int</span> r )</span></span>{
    <span class="hljs-keyword">return</span> ((l+r)*(r-l<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>) %p;
}

<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-type">int</span> t;
    cin &gt;&gt; t;
    <span class="hljs-type">int</span> l , r , m , n;
    <span class="hljs-keyword">while</span>( t -- ){
        cin &gt;&gt; l &gt;&gt; r &gt;&gt; m &gt;&gt; n;
        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;
        <span class="hljs-type">int</span> z = r/n - l/n;

        <span class="hljs-keyword">if</span>( z ){
            <span class="hljs-type">int</span> lm = l % n , rm = r % n;
            <span class="hljs-keyword">if</span>( lm &lt; m ){
                ans += <span class="hljs-built_in">guss</span>( lm , m<span class="hljs-number">-1</span> ) % p;
                ans %= p;
            }
            ans += (<span class="hljs-built_in">guss</span>( <span class="hljs-number">1</span> , m<span class="hljs-number">-1</span> ) * (z<span class="hljs-number">-1</span>) % p);
            ans %= p;
            ans += (<span class="hljs-built_in">guss</span>( <span class="hljs-number">1</span> , <span class="hljs-built_in">min</span>( rm , m<span class="hljs-number">-1</span> ) ) %p);
            ans %= p;
        }
        <span class="hljs-keyword">else</span>{
            ans += (<span class="hljs-built_in">guss</span>( l % n , <span class="hljs-built_in">min</span>( r%n , m<span class="hljs-number">-1</span> ) )%p);
            ans %= p;
        }
        ans %= p;
        cout &lt;&lt; (ans&gt;<span class="hljs-number">0</span>?ans:<span class="hljs-number">0</span>) &lt;&lt; endl;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>赵玉航</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBNQVhOJTIwMTAwMDAxMCUwQSUyM2RlZmluZSUyMGludCUyMGxvbmclMjBsb25nJTBBJTIzZGVmaW5lJTIwcmFlZCgpJTIwcmVhZCgpJTBBJTIzZGVmaW5lJTIwbXAoeCUyQ3kpJTIwbWFrZV9wYWlyKHglMkN5KSUwQSUyM2RlZmluZSUyMHJlcChpJTJDbCUyQ3IpJTIwZm9yKGludCUyMGklM0RsJTNCaSUzQyUzRHIlM0JpJTJCJTJCKSUwQSUyM2RlZmluZSUyMHBlcihpJTJDbCUyQ3IpJTIwZm9yKGludCUyMGklM0RsJTNCaSUzRSUzRHIlM0JpLS0pJTBBJTIzZGVmaW5lJTIwbG93Yml0KHgpJTIwKHglMjYoLXgpKSUwQSUyM2RlZmluZSUyMGxzKHgpJTIwKHglM0MlM0MxKSUwQSUyM2RlZmluZSUyMHJzKHgpJTIwKHglM0MlM0MxJTdDMSklMEElMjNkZWZpbmUlMjBpbmYlMjAweDNmM2YzZjNmJTBBJTIzZGVmaW5lJTIwbW9kJTIwKGludCkoMTkyNjA4MTcpJTBBJTIzZGVmaW5lJTIwUEklMjAzLjE0MTU5MjY1MzUlMEElMjNkZWZpbmUlMjB0ZXN0KHMpJTIwZnJlb3BlbiglMjJzJTIyJTJDJTIyciUyMiUyQ3N0ZGluKSUzQiUwQSUyM2RlZmluZSUyMGVuZGwlMjAlMjIlNUNuJTIyJTBBdXNpbmclMjBuYW1lc3BhY2UlMjBzdGQlM0IlMEFpbnQlMjBhJTVCTUFYTiU1RCUzQiUwQWludCUyMG4lM0IlMEFpbmxpbmUlMjB2b2lkJTIwc29sdmUoaW50JTIwd3RmKSUwQSU3QiUwQSUwOWludCUyMGwlMkNyJTJDbSUyQ24lM0IlMEElMDlpbnQlMjB1JTJDdiUzQiUwQSUwOWNpbiUzRSUzRWwlM0UlM0VyJTNFJTNFbSUzRSUzRW4lM0IlMEElMDlpbnQlMjBzdW0xJTNEMCUzQiUwQSUwOWludCUyMHN1bTIlM0QwJTNCJTBBJTA5dSUzRChyJTJCMSklMkZuJTNCJTBBJTA5diUzRChyJTJCMSklMjVuJTNCJTBBJTA5c3VtMSUzRHUqKDAlMkJtLTEpKm0lMkYyJTI1bW9kJTJCKDAlMkJtaW4obS0xJTJDdi0xKSkqbWluKG0lMkN2KSUyRjIlMjVtb2QlM0IlMEElMDlsLS0lM0IlMEElMDlzd2FwKGwlMkNyKSUzQiUwQSUwOXUlM0QociUyQjEpJTJGbiUzQiUwQSUwOXYlM0QociUyQjEpJTI1biUzQiUwQSUwOXN1bTIlM0R1KigwJTJCbS0xKSptJTJGMiUyNW1vZCUyQigwJTJCbWluKG0tMSUyQ3YtMSkpKm1pbihtJTJDdiklMkYyJTI1bW9kJTNCJTBBJTA5Y291dCUzQyUzQygoc3VtMS1zdW0yKSUyNW1vZCUyQm1vZCklMjVtb2QlM0MlM0NlbmRsJTNCJTBBJTA5cmV0dXJuJTNCJTBBJTdEJTBBc2lnbmVkJTIwbWFpbigpJTBBJTdCJTBBJTA5aW50JTIwVCUzRDElM0IlMEElMDlpb3NfYmFzZSUzQSUzQXN5bmNfd2l0aF9zdGRpbyhmYWxzZSklM0IlMEElMDljaW4udGllKDApJTNCJTBBJTA5Y2luJTNFJTNFVCUzQiUwQSUwOXJlcChpJTJDMSUyQ1QpJTBBJTA5JTIwJTIwJTIwJTIwc29sdmUoaSklM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXN 1000010</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> raed() read()</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> mp(x,y) make_pair(x,y)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> rep(i,l,r) for(int i=l;i&lt;=r;i++)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> per(i,l,r) for(int i=l;i&gt;=r;i--)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> lowbit(x) (x&amp;(-x))</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ls(x) (x&lt;&lt;1)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> rs(x) (x&lt;&lt;1|1)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> inf 0x3f3f3f3f</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> mod (int)(19260817)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> PI 3.1415926535</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> test(s) freopen(<span class="hljs-string">&quot;s&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>,stdin);</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> endl <span class="hljs-string">&quot;\n&quot;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> a[MAXN];
<span class="hljs-type">int</span> n;
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-type">int</span> wtf)</span>
</span>{
	<span class="hljs-type">int</span> l,r,m,n;
	<span class="hljs-type">int</span> u,v;
	cin&gt;&gt;l&gt;&gt;r&gt;&gt;m&gt;&gt;n;
	<span class="hljs-type">int</span> sum1=<span class="hljs-number">0</span>;
	<span class="hljs-type">int</span> sum2=<span class="hljs-number">0</span>;
	u=(r<span class="hljs-number">+1</span>)/n;
	v=(r<span class="hljs-number">+1</span>)%n;
	sum1=u*(<span class="hljs-number">0</span>+m<span class="hljs-number">-1</span>)*m/<span class="hljs-number">2</span>%mod+(<span class="hljs-number">0</span>+<span class="hljs-built_in">min</span>(m<span class="hljs-number">-1</span>,v<span class="hljs-number">-1</span>))*<span class="hljs-built_in">min</span>(m,v)/<span class="hljs-number">2</span>%mod;
	l--;
	<span class="hljs-built_in">swap</span>(l,r);
	u=(r<span class="hljs-number">+1</span>)/n;
	v=(r<span class="hljs-number">+1</span>)%n;
	sum2=u*(<span class="hljs-number">0</span>+m<span class="hljs-number">-1</span>)*m/<span class="hljs-number">2</span>%mod+(<span class="hljs-number">0</span>+<span class="hljs-built_in">min</span>(m<span class="hljs-number">-1</span>,v<span class="hljs-number">-1</span>))*<span class="hljs-built_in">min</span>(m,v)/<span class="hljs-number">2</span>%mod;
	cout&lt;&lt;((sum1-sum2)%mod+mod)%mod&lt;&lt;endl;
	<span class="hljs-keyword">return</span>;
}
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-type">int</span> T=<span class="hljs-number">1</span>;
	ios_base::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);
	cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);
	cin&gt;&gt;T;
	<span class="hljs-built_in">rep</span>(i,<span class="hljs-number">1</span>,T)
	    <span class="hljs-built_in">solve</span>(i);
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>路浩祥</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUyMCUzQ2lvc3RyZWFtJTNFJTBBJTIzZGVmaW5lJTIwbGwlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBsbCUyMGluZiUyMCUzRCUyMDE5MjYwODE3JTNCJTBBbGwlMjBzdW0obGwlMjBzdGFydCUyQyUyMGxsJTIwZW5kKSUwQSU3QiUwQSUwOXJldHVybiUyMCgoc3RhcnQlMjAlMkIlMjBlbmQpJTIwKiUyMChlbmQlMjAtJTIwc3RhcnQlMjAlMkIlMjAxKSUyMCUyRiUyMDIpJTIwJTI1JTIwaW5mJTNCJTBBJTdEJTBBaW50JTIwbWFpbigpJTBBJTdCJTBBJTA5aW9zX2Jhc2UlM0ElM0FzeW5jX3dpdGhfc3RkaW8oZmFsc2UpJTNCJTBBJTA5aW50JTIwdCUzQiUwQSUwOWNpbiUyMCUzRSUzRSUyMHQlM0IlMEElMDl3aGlsZSUyMCh0LS0pJTBBJTA5JTdCJTBBJTA5JTA5bGwlMjBsJTJDJTIwciUyQyUyMG0lMkMlMjBuJTNCJTBBJTA5JTA5Y2luJTIwJTNFJTNFJTIwbCUyMCUzRSUzRSUyMHIlMjAlM0UlM0UlMjBtJTIwJTNFJTNFJTIwbiUzQiUwQSUwOSUwOWlmJTIwKGwlM0UlM0RtJTI2JTI2ciUzQyUzRG4pJTBBJTA5JTA5JTdCJTBBJTA5JTA5JTA5Y291dCUzQyUzQzAlM0MlM0NlbmRsJTNCJTBBJTA5JTA5JTdEJTBBJTA5JTA5ZWxzZSUwQSUwOSUwOSU3QiUwQSUwOSUwOSUwOWxsJTIwYW5zJTIwJTNEJTIwMCUyQyUyMGslMjAlM0QlMjByJTIwJTJGJTIwbiUyMC0lMjBsJTIwJTJGJTIwbiUzQiUwQSUwOSUwOSUwOWlmJTIwKGslMjAlM0UlMjAwKSUwQSUwOSUwOSUwOSU3QiUwQSUwOSUwOSUwOSUwOWxsJTIwbG0lMjAlM0QlMjBsJTIwJTI1JTIwbiUyQyUyMHJtJTIwJTNEJTIwciUyMCUyNSUyMG4lM0IlMEElMEElMDklMDklMDklMDlpZiUyMChsbSUyMCUzQyUyMG0pJTBBJTA5JTA5JTA5JTA5JTdCJTBBJTA5JTA5JTA5JTA5JTA5YW5zJTIwJTJCJTNEJTIwc3VtKGxtJTJDJTIwbSUyMC0lMjAxKSUyMCUyNSUyMGluZiUzQiUwQSUwOSUwOSUwOSUwOSUwOWFucyUyMCUyNSUzRCUyMGluZiUzQiUwQSUwOSUwOSUwOSUwOSU3RCUwQSUwOSUwOSUwOSUwOWFucyUyMCUyQiUzRCUyMChzdW0oMSUyQyUyMG0lMjAtJTIwMSklMjAqJTIwKGslMjAtJTIwMSklMjAlMjUlMjBpbmYpJTNCJTBBJTA5JTA5JTA5JTA5YW5zJTIwJTI1JTNEJTIwaW5mJTNCJTBBJTA5JTA5JTA5JTA5YW5zJTIwJTJCJTNEJTIwc3VtKDElMkMlMjBtaW4ocm0lMkMlMjBtJTIwLSUyMDEpKSUyMCUyNSUyMGluZiUzQiUwQSUwOSUwOSUwOSUwOWFucyUyMCUyNSUzRCUyMGluZiUzQiUwQSUwOSUwOSUwOSU3RCUwQSUwOSUwOSUwOWVsc2UlMEElMDklMDklMDklN0IlMEElMDklMDklMDklMDlhbnMlMjAlMkIlM0QlMjBzdW0obCUyMCUyNSUyMG4lMkMlMjBtaW4ociUyMCUyNSUyMG4lMkMlMjBtJTIwLSUyMDEpKSUyMCUyNSUyMGluZiUzQiUwQSUwOSUwOSUwOSUwOWFucyUyMCUyNSUzRCUyMGluZiUzQiUwQSUwOSUwOSUwOSU3RCUwQSUwOSUwOSUwOWNvdXQlMjAlM0MlM0MlMjBhbnMlMjUlMjBpbmYlMjAlM0MlM0MlMjBlbmRsJTNCJTBBJTA5JTA5JTdEJTBBJTA5JTdEJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ll long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> ll inf = <span class="hljs-number">19260817</span>;
<span class="hljs-function">ll <span class="hljs-title">sum</span><span class="hljs-params">(ll start, ll end)</span>
</span>{
	<span class="hljs-keyword">return</span> ((start + end) * (end - start + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>) % inf;
}
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	ios_base::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);
	<span class="hljs-type">int</span> t;
	cin &gt;&gt; t;
	<span class="hljs-keyword">while</span> (t--)
	{
		ll l, r, m, n;
		cin &gt;&gt; l &gt;&gt; r &gt;&gt; m &gt;&gt; n;
		<span class="hljs-keyword">if</span> (l&gt;=m&amp;&amp;r&lt;=n)
		{
			cout&lt;&lt;<span class="hljs-number">0</span>&lt;&lt;endl;
		}
		<span class="hljs-keyword">else</span>
		{
			ll ans = <span class="hljs-number">0</span>, k = r / n - l / n;
			<span class="hljs-keyword">if</span> (k &gt; <span class="hljs-number">0</span>)
			{
				ll lm = l % n, rm = r % n;

				<span class="hljs-keyword">if</span> (lm &lt; m)
				{
					ans += <span class="hljs-built_in">sum</span>(lm, m - <span class="hljs-number">1</span>) % inf;
					ans %= inf;
				}
				ans += (<span class="hljs-built_in">sum</span>(<span class="hljs-number">1</span>, m - <span class="hljs-number">1</span>) * (k - <span class="hljs-number">1</span>) % inf);
				ans %= inf;
				ans += <span class="hljs-built_in">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">min</span>(rm, m - <span class="hljs-number">1</span>)) % inf;
				ans %= inf;
			}
			<span class="hljs-keyword">else</span>
			{
				ans += <span class="hljs-built_in">sum</span>(l % n, <span class="hljs-built_in">min</span>(r % n, m - <span class="hljs-number">1</span>)) % inf;
				ans %= inf;
			}
			cout &lt;&lt; ans% inf &lt;&lt; endl;
		}
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<h2 id="t4-tian-shu-you-xi" tabindex="-1">T4 填数游戏</h2>
<h3 id="gai-lan-4" tabindex="-1">概览</h3>
<p>本题直接从正面考虑，难度是很大的。实际上，本题需要选手根据测试点的特殊性质，先考虑特殊情况如何解决，从而想出一般情况的解决方法。</p>
<p>需要选手有很高的思维水平和一定的代码能力。</p>
<p>难度：<span style="color:rgb(82,196,26)">普及+/提高</span>。题目可以放在NOIP的第一题位置，作为难度不低的题目。</p>
<p>详细考察点：C++基本语法、前缀和算法、贪心算法、时间复杂度分析</p>
<h3 id="suan-fa-yi-3" tabindex="-1">算法一</h3>
<p>当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">n=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> 是，填数总共就这么几个情况：</p>
<ul>
<li>1234</li>
<li>1243</li>
<li>1324</li>
<li>1342</li>
<li>1423</li>
<li>1432</li>
<li>2134</li>
<li>2143</li>
<li>2341</li>
<li>2314</li>
<li>2413</li>
<li>2431</li>
<li>4123</li>
<li>4132</li>
<li>....</li>
</ul>
<p>（好吧，确实情况比较多，总共有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn></mrow><annotation encoding="application/x-tex">24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">24</span></span></span></span> 种情况</p>
<p>你把每种情况都计算一下分数，最后输出最多的那个即可</p>
<p>代码略，上述做法可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">1\sim 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">12pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">12</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-er-3" tabindex="-1">算法二</h3>
<p>其实你可以考虑枚举全排列，然后看哪种情况下分数最高。应该有大佬知道怎么枚举全排列。</p>
<p>当然，这个我们课上没讲，这个是你之后学dfs的时候会学到，如果你不会的话就拿不到这个分数了。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMHMlNUIxMDAwMDUlNUQlMkNwJTVCMTAwMDA1JTVEJTNCJTBBaW50JTIwbWFpbigpJTdCJTBBJTA5aW50JTIwbiUzQmNpbiUzRSUzRW4lM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTIwY2luJTNFJTNFcyU1QmklNUQlM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTIwcCU1QmklNUQlM0RpJTNCJTBBJTA5aW50JTIwYW5zJTNEMCUzQiUwQSUwOWRvJTdCJTBBJTA5JTA5aW50JTIwX2FucyUzRDAlM0IlMEElMDklMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTdCJTBBJTA5JTA5JTA5aWYocCU1QmklNUQlM0VpKSUyMF9hbnMtJTNEcyU1QmklNUQlM0IlMEElMDklMDklMDlpZihwJTVCaSU1RCUzQ2kpJTIwX2FucyUyQiUzRHMlNUJpJTVEJTNCJTBBJTA5JTA5JTdEJTBBJTA5JTA5YW5zJTNEbWF4KGFucyUyQ19hbnMpJTNCJTBBJTA5JTdEd2hpbGUobmV4dF9wZXJtdXRhdGlvbihwJTJCMSUyQ3AlMkJuJTJCMSkpJTNCJTBBJTA5Y291dCUzQyUzQ2FucyUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>],p[<span class="hljs-number">100005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n;cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) p[i]=i;
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">do</span>{
		<span class="hljs-type">int</span> _ans=<span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
			<span class="hljs-keyword">if</span>(p[i]&gt;i) _ans-=s[i];
			<span class="hljs-keyword">if</span>(p[i]&lt;i) _ans+=s[i];
		}
		ans=<span class="hljs-built_in">max</span>(ans,_ans);
	}<span class="hljs-keyword">while</span>(<span class="hljs-built_in">next_permutation</span>(p<span class="hljs-number">+1</span>,p+n<span class="hljs-number">+1</span>));
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">1\sim 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> ，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">20pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">20</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span></p>
<h3 id="suan-fa-san-3" tabindex="-1">算法三</h3>
<p>对于特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">AC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> ，我们很自然的想法就是如果每个格子都赚，即每个格子的分数都获得，那么答案应该是最优的。这也就意味着你必须给每个格子都填上一个比他编号小的数字。但你发现，格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 永远是赚不了的。或者说，格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 要么亏，要么不赚不亏。如果格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 不赚不亏，那么就该轮到格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 要么亏要么不赚不亏了。</p>
<p>然后你继续考虑，如果格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 亏了，后面的格子一定可以都赚。比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">n=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> 时，我们可以这么填：</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
</tr>
</tbody>
</table>
<p>这样一定是最优答案。</p>
<p>所以我们只需要让一个格子亏，剩余格子都赚。参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMHMlNUIxMDAwMDUlNUQlMkNwJTVCMTAwMDA1JTVEJTNCJTBBaW50JTIwbWFpbigpJTdCJTBBJTA5aW50JTIwbiUzQmNpbiUzRSUzRW4lM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTIwY2luJTNFJTNFcyU1QmklNUQlM0IlMEElMDlpbnQlMjBhbnMlM0RzJTVCMSU1RCoobi0xKS1zJTVCMSU1RCUzQiUwQSUwOWNvdXQlM0MlM0NhbnMlM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>],p[<span class="hljs-number">100005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n;cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];
	<span class="hljs-type">int</span> ans=s[<span class="hljs-number">1</span>]*(n<span class="hljs-number">-1</span>)-s[<span class="hljs-number">1</span>];
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>∼</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">6\sim 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>14</mn><mo>∼</mo><mn>15</mn></mrow><annotation encoding="application/x-tex">14\sim 15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">14</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">15</span></span></span></span> 。期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">16pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">16</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-si-2" tabindex="-1">算法四</h3>
<p>对于特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> ，我们的想法和算法三差不多，只不过这次可能直接让格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 亏掉其他格子都赚，这样不一定能获得最高分数。因为可能你格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 亏掉的分数太多了，得不偿失。</p>
<p>但是格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 还是要么亏，要么不赚不亏。既然亏了可能不好，那我们就考虑格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 不赚不亏。</p>
<p>格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 不赚不亏之后，我们实际上就可以忽略到格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，仅看格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 了，格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 也会有一模一样的顾虑，有可能格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 亏掉的分也太多了，即使格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 到格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 都是赚的，也得不偿失。所以你也要考虑是不是格子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 也要不赚不亏。</p>
<p>然后就这么一直考虑下去....</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEF1c2luZyUyMG5hbWVzcGFjZSUyMHN0ZCUzQiUwQWludCUyMHMlNUIxMDAwMDUlNUQlM0IlMEFpbnQlMjBtYWluKCklN0IlMEElMDlpbnQlMjBuJTNCY2luJTNFJTNFbiUzQiUwQSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBjaW4lM0UlM0VzJTVCaSU1RCUzQiUwQSUwOWludCUyMGFucyUzRDAlM0IlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTdCJTBBJTA5JTA5JTJGJTJGJUU2JTlFJTlBJUU0JUI4JUJFJUU3JUFDJUFDaSVFNCVCOCVBQSVFNiVBMCVCQyVFNSVBRCU5MCVFNSVCQyU4MCVFNSVBNyU4QiVFNCVCQSU4RiVFNCVCQSU4NiVFRiVCQyU4QyVFNyVBQyVBQ2klRTQlQjglQUElRTYlQTAlQkMlRTUlQUQlOTAlRTQlQjklOEIlRTUlODklOEQlRTclOUElODQlRTYlQTAlQkMlRTUlQUQlOTAlRTklODMlQkQlRTYlOTglQUYlRTQlQjglOEQlRTglQjUlOUElRTQlQjglOEQlRTQlQkElOEYlRTclOUElODQlRUYlQkMlOEMlRTclQUMlQUNpJUU0JUI4JUFBJUU2JUEwJUJDJUU1JUFEJTkwJUU0JUI5JThCJUU1JTkwJThFJUU3JTlBJTg0JUU2JUEwJUJDJUU1JUFEJTkwJUU5JTgzJUJEJUU2JTk4JUFGJUU4JUI1JTlBJUU3JTlBJTg0JTBBJTA5JTA5aW50JTIwX2FucyUzRDAlM0IlMEElMDklMDlfYW5zLSUzRHMlNUJpJTVEJTNCJTBBJTA5JTA5Zm9yKGludCUyMGolM0RpJTJCMSUzQmolM0MlM0RuJTNCaiUyQiUyQiklN0IlMEElMDklMDklMDlfYW5zJTJCJTNEcyU1QmolNUQlM0IlMEElMDklMDklN0QlMEElMDklMDlhbnMlM0RtYXgoYW5zJTJDX2FucyklM0IlMEElMDklN0QlMEElMDljb3V0JTNDJTNDYW5zJTNCJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n;cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
		<span class="hljs-comment">//枚举第i个格子开始亏了，第i个格子之前的格子都是不赚不亏的，第i个格子之后的格子都是赚的</span>
		<span class="hljs-type">int</span> _ans=<span class="hljs-number">0</span>;
		_ans-=s[i];
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">+1</span>;j&lt;=n;j++){
			_ans+=s[j];
		}
		ans=<span class="hljs-built_in">max</span>(ans,_ans);
	}
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>∼</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">6\sim 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span>，期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">16pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">16</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<p>实际上，你内层循环是没必要的，可以使用类似于前缀和的优化，但在这题中，准确来说是后缀和。</p>
<p>我们令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">suf[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> 为从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mclose">]</span></span></span></span> 一直加到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> （注意是倒着加的），直接把内层循环替换为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mi>a</mi></msub><mi>n</mi><mi>s</mi><mo>+</mo><mo>=</mo><mi>s</mi><mi>u</mi><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">_ans+=suf[i+1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord">+</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 即可。</p>
<p>参考代码：(注意从现在开始就要开long long了)</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBaW50JTIwcyU1QjEwMDAwNSU1RCUyQ3N1ZiU1QjEwMDAwNSU1RCUzQiUwQXNpZ25lZCUyMG1haW4oKSU3QiUwQSUwOWludCUyMG4lM0JjaW4lM0UlM0VuJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKSUyMGNpbiUzRSUzRXMlNUJpJTVEJTNCJTBBJTA5aW50JTIwYW5zJTNEMCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEbiUzQmklM0UlM0QxJTNCaS0tKSU3QiUwQSUwOSUwOXN1ZiU1QmklNUQlM0RzdWYlNUJpJTJCMSU1RCUyQnMlNUJpJTVEJTNCJTBBJTA5JTdEJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKSU3QiUwQSUwOSUwOWludCUyMF9hbnMlM0QwJTNCJTBBJTA5JTA5X2Fucy0lM0RzJTVCaSU1RCUzQiUwQSUwOSUwOV9hbnMlMkIlM0RzdWYlNUJpJTJCMSU1RCUzQiUwQSUwOSUwOWFucyUzRG1heChhbnMlMkNfYW5zKSUzQiUwQSUwOSU3RCUwQSUwOWNvdXQlM0MlM0NhbnMlM0IlMEElMDlyZXR1cm4lMjAwJTNCJTBBJTdEJTBB"><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>],suf[<span class="hljs-number">100005</span>];
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n;cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];
	<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=n;i&gt;=<span class="hljs-number">1</span>;i--){
		suf[i]=suf[i<span class="hljs-number">+1</span>]+s[i];
	}
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
		<span class="hljs-type">int</span> _ans=<span class="hljs-number">0</span>;
		_ans-=s[i];
		_ans+=suf[i<span class="hljs-number">+1</span>];
		ans=<span class="hljs-built_in">max</span>(ans,_ans);
	}
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，可以通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>∼</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">6\sim 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>14</mn><mo>∼</mo><mn>15</mn></mrow><annotation encoding="application/x-tex">14\sim 15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">14</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">15</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>∼</mo><mn>19</mn></mrow><annotation encoding="application/x-tex">18\sim 19</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">19</span></span></span></span>。期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">32pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">32</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-wu" tabindex="-1">算法五</h3>
<p>考虑特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>，如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span> 序列是从一个正数开始单调递增，那么所有格子的分数都为正数，这个我们已经考虑过了。如果从一个负数开始单调递增，我们又分成两种情况</p>
<ul>
<li>序列都是负数</li>
<li>序列先负后正</li>
</ul>
<p>都是负数的话好说，我们希望所有的格子都要是亏的，但发现最后一个格子要么不亏不赚，要么赚，后面的讨论就和算法四是一样的了。这回我们可能需要个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">pre[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">re</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> 表示从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 正着加到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBaW50JTIwcyU1QjEwMDAwNSU1RCUyQ3ByZSU1QjEwMDAwNSU1RCUzQiUwQXNpZ25lZCUyMG1haW4oKSU3QiUwQSUwOWludCUyMG4lM0JjaW4lM0UlM0VuJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKSUyMGNpbiUzRSUzRXMlNUJpJTVEJTNCJTBBJTA5aW50JTIwZmxhZyUzRDAlM0IlMkYlMkYlRTUlODglQTQlRTYlOTYlQUQlRTYlOTglQUYlRTQlQjglOEQlRTYlOTglQUYlRTYlODklODAlRTYlOUMlODklRTYlOTUlQjAlRTUlQUQlOTclRTklODMlQkQlRTQlQjglQkElRTglQjQlOUYlRTYlOTUlQjAlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTdCJTBBJTA5JTA5aWYocyU1QmklNUQlM0UwKSU3QiUwQSUwOSUwOSUwOWZsYWclM0QxJTNCJTBBJTA5JTA5JTA5YnJlYWslM0IlMEElMDklMDklN0QlMEElMDklN0QlMEElMDlpZihmbGFnJTNEJTNEMCklN0IlMEElMDklMDlpbnQlMjBhbnMlM0QwJTNCJTBBJTA5JTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQ24lM0JpJTJCJTJCKSU3QiUwQSUwOSUwOSUwOXByZSU1QmklNUQlM0RwcmUlNUJpLTElNUQlMkJzJTVCaSU1RCUzQiUwQSUwOSUwOSU3RCUwQSUwOSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklN0IlMEElMDklMDklMDlpbnQlMjBfYW5zJTNEcyU1QmklNUQlM0IlMEElMDklMDklMDlfYW5zLSUzRHByZSU1QmktMSU1RCUzQiUwQSUwOSUwOSUwOWFucyUzRG1heChhbnMlMkNfYW5zKSUzQiUwQSUwOSUwOSU3RCUwQSUwOSUwOWNvdXQlM0MlM0NhbnMlM0IlMEElMDklN0RlbHNlJTdCJTBBJTBBJTA5JTdEJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>],pre[<span class="hljs-number">100005</span>];
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n;cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];
	<span class="hljs-type">int</span> flag=<span class="hljs-number">0</span>;<span class="hljs-comment">//判断是不是所有数字都为负数</span>
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
		<span class="hljs-keyword">if</span>(s[i]&gt;<span class="hljs-number">0</span>){
			flag=<span class="hljs-number">1</span>;
			<span class="hljs-keyword">break</span>;
		}
	}
	<span class="hljs-keyword">if</span>(flag==<span class="hljs-number">0</span>){
		<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;n;i++){
			pre[i]=pre[i<span class="hljs-number">-1</span>]+s[i];
		}
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
			<span class="hljs-type">int</span> _ans=s[i];
			_ans-=pre[i<span class="hljs-number">-1</span>];
			ans=<span class="hljs-built_in">max</span>(ans,_ans);
		}
		cout&lt;&lt;ans;
	}<span class="hljs-keyword">else</span>{

	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>如果序列是先负后正呢？我宣称，这种情况下你一定可以找到一个填数方案，让分数为负的格子亏了，让分数为正的格子赚了，不信的话给你举个例子。</p>
<p>假如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span> 序列长这样：<code>-5 -3 2 4 5</code>，我们这样填：</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody>
<tr>
<td>4</td>
<td>5</td>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>再来，加入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span> 序列为 <code>-5 -4 -3 -2 1 3</code>，我们这样填</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>你只需要先从第一个正数那里填 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 即可。</p>
<p>这种情况下，直接把所有数的绝对值相加即可。</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBaW50JTIwcyU1QjEwMDAwNSU1RCUyQ3ByZSU1QjEwMDAwNSU1RCUzQiUwQXNpZ25lZCUyMG1haW4oKSU3QiUwQSUwOWludCUyMG4lM0JjaW4lM0UlM0VuJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKSUyMGNpbiUzRSUzRXMlNUJpJTVEJTNCJTBBJTA5aW50JTIwZmxhZyUzRDAlM0IlMkYlMkYlRTUlODglQTQlRTYlOTYlQUQlRTYlOTglQUYlRTQlQjglOEQlRTYlOTglQUYlRTYlODklODAlRTYlOUMlODklRTYlOTUlQjAlRTUlQUQlOTclRTklODMlQkQlRTQlQjglQkElRTglQjQlOUYlRTYlOTUlQjAlMEElMDlmb3IoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTdCJTBBJTA5JTA5aWYocyU1QmklNUQlM0UwKSU3QiUwQSUwOSUwOSUwOWZsYWclM0QxJTNCJTBBJTA5JTA5JTA5YnJlYWslM0IlMEElMDklMDklN0QlMEElMDklN0QlMEElMDlpZihmbGFnJTNEJTNEMCklN0IlMEElMDklMDlpbnQlMjBhbnMlM0QwJTNCJTBBJTA5JTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQ24lM0JpJTJCJTJCKSU3QiUwQSUwOSUwOSUwOXByZSU1QmklNUQlM0RwcmUlNUJpLTElNUQlMkJzJTVCaSU1RCUzQiUwQSUwOSUwOSU3RCUwQSUwOSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklN0IlMEElMDklMDklMDlpbnQlMjBfYW5zJTNEcyU1QmklNUQlM0IlMEElMDklMDklMDlfYW5zLSUzRHByZSU1QmktMSU1RCUzQiUwQSUwOSUwOSUwOWFucyUzRG1heChhbnMlMkNfYW5zKSUzQiUwQSUwOSUwOSU3RCUwQSUwOSUwOWNvdXQlM0MlM0NhbnMlM0IlMEElMDklN0RlbHNlJTdCJTBBJTA5JTA5aW50JTIwYW5zJTNEMCUzQiUwQSUwOSUwOWZvcihpbnQlMjBpJTNEMSUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBhbnMlMkIlM0RhYnMocyU1QmklNUQpJTNCJTBBJTA5JTA5Y291dCUzQyUzQ2FucyUzQiUwQSUwOSU3RCUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>],pre[<span class="hljs-number">100005</span>];
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n;cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];
	<span class="hljs-type">int</span> flag=<span class="hljs-number">0</span>;<span class="hljs-comment">//判断是不是所有数字都为负数</span>
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
		<span class="hljs-keyword">if</span>(s[i]&gt;<span class="hljs-number">0</span>){
			flag=<span class="hljs-number">1</span>;
			<span class="hljs-keyword">break</span>;
		}
	}
	<span class="hljs-keyword">if</span>(flag==<span class="hljs-number">0</span>){
		<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;n;i++){
			pre[i]=pre[i<span class="hljs-number">-1</span>]+s[i];
		}
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
			<span class="hljs-type">int</span> _ans=s[i];
			_ans-=pre[i<span class="hljs-number">-1</span>];
			ans=<span class="hljs-built_in">max</span>(ans,_ans);
		}
		cout&lt;&lt;ans;
	}<span class="hljs-keyword">else</span>{
		<span class="hljs-type">int</span> ans=<span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) ans+=<span class="hljs-built_in">abs</span>(s[i]);
		cout&lt;&lt;ans;
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>以上代码可通过测试点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mo>∼</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">10\sim 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mo>∼</mo><mn>17</mn></mrow><annotation encoding="application/x-tex">16\sim 17</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">17</span></span></span></span> 期望得分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mi>p</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">16pts</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">16</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span></span></span></span>。</p>
<h3 id="suan-fa-liu-zheng-jie" tabindex="-1">算法六（正解）</h3>
<p>实际上，并不需要分数序列单调递增，只需要分数序列是先负后正，就有算法五最后的神奇性质。</p>
<p>然后这个性质还能推广，也不一定是整个序列先负后正，序列的一部分是先负后正，这一部分就可以获得最大分数。</p>
<p>我们只考虑序列正负，对于任意 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span> 序列，都是这种分布：全正——负正交替——全负。不信？举几个例子，比如 <code>1 2 -3 -4 5 -6 7 -8 9 10 -11 -12</code> 那么就可以分成这样 <code>(1 2)(-3 -4 5)(-6 7)(-8 9 10)(-11 -12)</code>。</p>
<p>中间三个部分直接绝对值相加即可，就是首尾的全正和全负序列有点棘手。</p>
<p>不过事实上，全正和全负的情况，我们在算法四和算法五已经说过怎么解决了。</p>
<p>参考代码：</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBaW50JTIwcyU1QjEwMDAwNSU1RCUyQ24lMkNhbnMlMkNwcmUlNUIxMDAwMDUlNUQlMkNzdWYlNUIxMDAwMDUlNUQlM0IlMEFzaWduZWQlMjBtYWluKCklN0IlMEElMDljaW4lM0UlM0VuJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKSUyMGNpbiUzRSUzRXMlNUJpJTVEJTNCJTBBJTA5aW50JTIwbCUzRDAlMkNyJTNEbiUyQjElM0IlMEElMDl3aGlsZShzJTVCbCUyQjElNUQlM0UwJTIwJTI2JTI2JTIwbCUyQjElM0MlM0RuKSUyMGwlMkIlMkIlM0IlMjAlMkYlMkYlRTYlODklQkUlRTUlODglQjAlRTUlODklOEQlRTklOUQlQTIlRTUlODUlQTglRTYlQUQlQTMlRTklODMlQTglRTUlODglODYlRTclOUElODQlRTYlOUMlODAlRTUlOTAlOEUlRTQlQkQlOEQlRTclQkQlQUUlMEElMDl3aGlsZShzJTVCci0xJTVEJTNDMCUyMCUyNiUyNiUyMHItMSUzRSUzRDEpJTIwci0tJTNCJTIwJTJGJTJGJUU2JTg5JUJFJUU1JTg4JUIwJUU1JTkwJThFJUU5JTlEJUEyJUU1JTg1JUE4JUU4JUI0JTlGJUU5JTgzJUE4JUU1JTg4JTg2JUU3JTlBJTg0JUU2JTlDJTgwJUU5JTlEJUEwJUU1JTg5JThEJUU0JUJEJThEJUU3JUJEJUFFJTBBJTA5Zm9yKGludCUyMGklM0RsJTJCMSUzQmklM0MlM0RyLTElM0JpJTJCJTJCKSUyMGFucyUyQiUzRGFicyhzJTVCaSU1RCklM0IlMjAlMkYlMkYlRTQlQjglQUQlRTklOTclQjQlRTclOUIlQjQlRTYlOEUlQTUlRTclQkIlOUQlRTUlQUYlQjklRTUlODAlQkMlRTclOUIlQjglRTUlOEElQTAlMEElMDlmb3IoaW50JTIwaSUzRGwlM0JpJTNFJTNEMSUzQmktLSklMjBwcmUlNUJpJTVEJTNEcHJlJTVCaSUyQjElNUQlMkJzJTVCaSU1RCUzQiUyMCUyRiUyRiVFOSVBMiU4NCVFNSVBNCU4NCVFNyU5MCU4NiVFNSU4OSU4RCVFNyVCQyU4MCVFNSU5MiU4QyVFNSU5MCU4RSVFNyVCQyU4MCUwQSUwOWZvcihpbnQlMjBpJTNEciUzQmklM0MlM0RuJTNCaSUyQiUyQiklMjBzdWYlNUJpJTVEJTNEc3VmJTVCaS0xJTVELXMlNUJpJTVEJTNCJTBBJTA5aW50JTIwX2FucyUzQiUwQSUwOV9hbnMlM0QwJTNCJTBBJTA5Zm9yKGludCUyMGklM0QxJTNCaSUzQyUzRGwlM0JpJTJCJTJCKSUyMF9hbnMlM0RtYXgoX2FucyUyQy1zJTVCaSU1RCUyQnByZSU1QmklMkIxJTVEKSUzQiUyMCUyRiUyRiVFNyVCMSVCQiVFNCVCQyVCQyVFNyVBRSU5NyVFNiVCMyU5NSVFNSU5QiU5QiUwQSUwOWFucyUyQiUzRF9hbnMlM0IlMEElMDlfYW5zJTNEMCUzQiUwQSUwOWZvcihpbnQlMjBpJTNEbiUzQmklM0UlM0RyJTNCaS0tKSUyMF9hbnMlM0RtYXgoX2FucyUyQ3MlNUJpJTVEJTJCc3VmJTVCaS0xJTVEKSUzQiUyMCUyMCUyRiUyRiVFNyVCMSVCQiVFNCVCQyVCQyVFNyVBRSU5NyVFNiVCMyU5NSVFNCVCQSU5NCUwQSUwOWFucyUyQiUzRF9hbnMlM0IlMEElMDljb3V0JTNDJTNDYW5zJTNCJTBBJTA5cmV0dXJuJTIwMCUzQiUwQSU3RCUwQQ=="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>],n,ans,pre[<span class="hljs-number">100005</span>],suf[<span class="hljs-number">100005</span>];
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];
	<span class="hljs-type">int</span> l=<span class="hljs-number">0</span>,r=n<span class="hljs-number">+1</span>;
	<span class="hljs-keyword">while</span>(s[l<span class="hljs-number">+1</span>]&gt;<span class="hljs-number">0</span> &amp;&amp; l<span class="hljs-number">+1</span>&lt;=n) l++; <span class="hljs-comment">//找到前面全正部分的最后位置</span>
	<span class="hljs-keyword">while</span>(s[r<span class="hljs-number">-1</span>]&lt;<span class="hljs-number">0</span> &amp;&amp; r<span class="hljs-number">-1</span>&gt;=<span class="hljs-number">1</span>) r--; <span class="hljs-comment">//找到后面全负部分的最靠前位置</span>
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=l<span class="hljs-number">+1</span>;i&lt;=r<span class="hljs-number">-1</span>;i++) ans+=<span class="hljs-built_in">abs</span>(s[i]); <span class="hljs-comment">//中间直接绝对值相加</span>
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=l;i&gt;=<span class="hljs-number">1</span>;i--) pre[i]=pre[i<span class="hljs-number">+1</span>]+s[i]; <span class="hljs-comment">//预处理前缀和后缀</span>
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=r;i&lt;=n;i++) suf[i]=suf[i<span class="hljs-number">-1</span>]-s[i];
	<span class="hljs-type">int</span> _ans;
	_ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=l;i++) _ans=<span class="hljs-built_in">max</span>(_ans,-s[i]+pre[i<span class="hljs-number">+1</span>]); <span class="hljs-comment">//类似算法四</span>
	ans+=_ans;
	_ans=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=n;i&gt;=r;i--) _ans=<span class="hljs-built_in">max</span>(_ans,s[i]+suf[i<span class="hljs-number">-1</span>]);  <span class="hljs-comment">//类似算法五</span>
	ans+=_ans;
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>其他验题人代码</p>
<p>范铭轩</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBY29uc3QlMjBpbnQlMjBOJTIwJTNEJTIwMTAwMDAwNSUzQiUwQWludCUyMGElNUJOJTVEJTJDYW5zJTJDdG90JTJDY250JTNCJTBBJTBBc2lnbmVkJTIwbWFpbigpJTdCJTBBJTA5aW50JTIwbiUzQiUwQSUwOWNpbiUzRSUzRW4lM0IlMEElMDlmb3IoaW50JTIwaSUyMCUzRCUyMDElM0JpJTIwJTNDJTNEJTIwbiUzQiUyQiUyQiUyMGkpJTIwY2luJTNFJTNFYSU1QmklNUQlM0IlMEElMDlpbnQlMjBsJTIwJTNEJTIwMSUyQ3IlMjAlM0QlMjBuJTNCJTBBJTA5Ym9vbCUyMGZsYWclMjAlM0QlMjBmYWxzZSUzQiUwQSUwOXdoaWxlKGwlMjAlM0MlM0QlMjBuJTIwJTI2JTI2JTIwYSU1QmwlNUQlMjAlM0UlMjAwKSU3QiUwQSUwOSUwOXRvdCUyMCUyQiUzRCUyMGElNUJsJTVEJTNCJTBBJTA5JTA5ZmxhZyUyMCUzRCUyMHRydWUlM0IlMEElMDklMDlsJTIwJTJCJTJCJTNCJTBBJTA5JTdEJTBBJTA5aWYoZmxhZyklMjB0b3QlMjAtJTNEJTIwKGElNUIxJTVEJTIwJTNDJTNDJTIwMSklM0IlMEElMDlmb3IoaW50JTIwaSUyMCUzRCUyMDElM0JpJTIwJTNDJTIwbCUyMC0lMjAxJTNCJTJCJTJCJTIwaSklN0IlMEElMDklMDljbnQlMjAlM0QlMjBtYXgoY250JTJDdG90KSUzQiUwQSUwOSUwOXRvdCUyMCUyQiUzRCUyMGElNUJpJTVEJTNCJTBBJTA5JTA5dG90JTIwLSUzRCUyMChhJTVCaSUyMCUyQiUyMDElNUQlMjAlM0MlM0MlMjAxKSUzQiUwQSUwOSU3RCUwQSUwOWFucyUyMCUyQiUzRCUyMGNudCUzQiUwQSUwOXRvdCUyMCUzRCUyMDAlMkNjbnQlMjAlM0QlMjAwJTNCJTBBJTA5ZmxhZyUyMCUzRCUyMGZhbHNlJTNCJTBBJTA5d2hpbGUociUyMCUzRSUzRCUyMDElMjAlMjYlMjYlMjBhJTVCciU1RCUyMCUzQyUyMDApJTdCJTBBJTA5JTA5dG90JTIwLSUzRCUyMGElNUJyJTVEJTNCJTBBJTA5JTA5ZmxhZyUyMCUzRCUyMHRydWUlM0IlMEElMDklMDlyJTIwLS0lM0IlMEElMDklN0QlMEElMDlpZihmbGFnKSUyMHRvdCUyMCUyQiUzRCUyMChhJTVCbiU1RCUyMCUzQyUzQyUyMDEpJTNCJTBBJTA5Zm9yKGludCUyMGklMjAlM0QlMjBuJTNCaSUyMCUzRSUyMHIlMjAlMkIlMjAxJTNCLS0lMjBpKSU3QiUwQSUwOSUwOWNudCUyMCUzRCUyMG1heChjbnQlMkN0b3QpJTNCJTBBJTA5JTA5dG90JTIwLSUzRCUyMGElNUJpJTVEJTNCJTBBJTA5JTA5dG90JTIwJTJCJTNEJTIwKGElNUJpJTIwLSUyMDElNUQlMjAlM0MlM0MlMjAxKSUzQiUwQSUwOSU3RCUwQSUwOWFucyUyMCUyQiUzRCUyMGNudCUzQiUwQSUwOWZvcihpbnQlMjBpJTIwJTNEJTIwbCUzQmklMjAlM0MlM0QlMjByJTNCJTJCJTJCJTIwaSklMjBhbnMlMjAlMkIlM0QlMjBhYnMoYSU1QmklNUQpJTNCJTBBJTA5Y291dCUzQyUzQ2FucyUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1000005</span>;
<span class="hljs-type">int</span> a[N],ans,tot,cnt;

<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
	<span class="hljs-type">int</span> n;
	cin&gt;&gt;n;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i) cin&gt;&gt;a[i];
	<span class="hljs-type">int</span> l = <span class="hljs-number">1</span>,r = n;
	<span class="hljs-type">bool</span> flag = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">while</span>(l &lt;= n &amp;&amp; a[l] &gt; <span class="hljs-number">0</span>){
		tot += a[l];
		flag = <span class="hljs-literal">true</span>;
		l ++;
	}
	<span class="hljs-keyword">if</span>(flag) tot -= (a[<span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">1</span>);
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt; l - <span class="hljs-number">1</span>;++ i){
		cnt = <span class="hljs-built_in">max</span>(cnt,tot);
		tot += a[i];
		tot -= (a[i + <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">1</span>);
	}
	ans += cnt;
	tot = <span class="hljs-number">0</span>,cnt = <span class="hljs-number">0</span>;
	flag = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">while</span>(r &gt;= <span class="hljs-number">1</span> &amp;&amp; a[r] &lt; <span class="hljs-number">0</span>){
		tot -= a[r];
		flag = <span class="hljs-literal">true</span>;
		r --;
	}
	<span class="hljs-keyword">if</span>(flag) tot += (a[n] &lt;&lt; <span class="hljs-number">1</span>);
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = n;i &gt; r + <span class="hljs-number">1</span>;-- i){
		cnt = <span class="hljs-built_in">max</span>(cnt,tot);
		tot -= a[i];
		tot += (a[i - <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">1</span>);
	}
	ans += cnt;
	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = l;i &lt;= r;++ i) ans += <span class="hljs-built_in">abs</span>(a[i]);
	cout&lt;&lt;ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<p>路浩祥</p>
<pre><div class="head"><div class="language">cpp</div><div class="copy" data="JTIzaW5jbHVkZSUyMCUzQ2JpdHMlMkZzdGRjJTJCJTJCLmglM0UlMEElMjNkZWZpbmUlMjBpbnQlMjBsb25nJTIwbG9uZyUwQXVzaW5nJTIwbmFtZXNwYWNlJTIwc3RkJTNCJTBBaW50JTIwdCUyQ24lMkNyJTJDYyU1QjIwMDAwNSU1RCUzQiUwQWludCUyMGElMkNiJTNCJTJGJTJGJUU2JUEwJTg3JUU4JUFFJUIwJUU1JTg4JTg2MyVFNiVBRSVCNSUwQXNpZ25lZCUyMG1haW4oKSUwQSU3QiUwQSUwOW1lbXNldChjJTJDMCUyQ3NpemVvZihjKSklM0IlMEElMDluJTNEciUzRDAlM0IlMEElMDljaW4lM0UlM0VuJTNCJTBBJTJGJTJGJTA5JTA5Zm9yJTIwKGludCUyMGklM0QxJTNCaSUzQyUzRG4lM0JpJTJCJTJCKWNpbiUzRSUzRXIlM0IlMEElMDlmb3IlMjAoaW50JTIwaSUzRDElM0JpJTNDJTNEbiUzQmklMkIlMkIpJTIwc2NhbmYoJTIyJTI1bGxkJTIyJTJDJTI2YyU1QmklNUQpJTNCJTBBJTA5JTJGJTJGJUU1JTg4JTg2JUU2JUFFJUI1JTBBJTA5YSUzRDAlMkNiJTNEbiUyQjElM0IlMEElMDl3aGlsZShjJTVCYSUyQjElNUQlM0UwKSUyMGElMkIlMkIlM0IlMEElMDl3aGlsZShjJTVCYi0xJTVEJTNDMCklMjBiLS0lM0IlMEElMDklMkYlMkYlRTclQUMlQUMlRTQlQjglODAlRTYlQUUlQjUlRUYlQkMlODglRTYlOEUlOTIlRTUlOTAlOEQlRTklQUIlOTglRTQlQjglOTQlRTYlODMlQjMlRTglQkYlOUIlRTYlQUQlQTUlRUYlQkMlODklMEElMDlpbnQlMjBhbnMxJTNEMCUyQ3N1bSUzRDAlM0IlMEElMDlmb3IlMjAoaW50JTIwaSUzRGElM0JpJTNFMSUzQmktLSklMEElMDklN0IlMEElMDklMDlzdW0lMkIlM0RhYnMoYyU1QmklNUQpJTNCJTBBJTA5JTA5YW5zMSUzRG1heChhbnMxJTJDc3VtLWFicyhjJTVCaS0xJTVEKSklM0IlMEElMDklN0QlMEElMDklMkYlMkYlRTclQUMlQUMlRTQlQkElOEMlRTYlQUUlQjUlRUYlQkMlODglRTYlOUMlODklRTglQkYlOUIlRTYlOUMlODklRTklODAlODAlRUYlQkMlODklMEElMDlpbnQlMjBhbnMyJTNEMCUzQiUwQSUwOWZvciUyMChpbnQlMjBpJTNEYSUyQjElM0JpJTNDJTNEYi0xJTNCaSUyQiUyQiklMjAlMjBhbnMyJTJCJTNEYWJzKGMlNUJpJTVEKSUzQiUwQSUwOSUyRiUyRiVFNyVBQyVBQyVFNCVCOCU4OSVFNiVBRSVCNSVFRiVCQyU4OCVFNiU4RSU5MiVFNSU5MCU4RCVFNCVCRCU4RSVFNCVCOCU5NCVFNiU4MyVCMyVFOSU4MCU4MCVFNiVBRCVBNSVFRiVCQyU4OSUwQSUwOWludCUyMGFuczMlM0QwJTNCc3VtJTNEMCUzQiUwQSUwOWZvciUyMChpbnQlMjBpJTNEYiUzQmklM0NuJTNCaSUyQiUyQiklMEElMDklN0IlMEElMDklMDlzdW0lMkIlM0RhYnMoYyU1QmklNUQpJTNCJTBBJTA5JTA5YW5zMyUzRG1heChhbnMzJTJDc3VtLWFicyhjJTVCaSUyQjElNUQpKSUzQiUwQSUwOSU3RCUwQSUwOXByaW50ZiglMjIlMjVsbGQlNUNuJTIyJTJDYW5zMSUyQmFuczIlMkJhbnMzKSUzQiUwQSUwOXJldHVybiUyMDAlM0IlMEElN0QlMEE="><svg focusable="false" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path></svg></div></div><code class="hljs"><div class="lines"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div></div><div class="code"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">int</span> t,n,r,c[<span class="hljs-number">200005</span>];
<span class="hljs-type">int</span> a,b;<span class="hljs-comment">//标记分3段</span>
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-built_in">memset</span>(c,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(c));
	n=r=<span class="hljs-number">0</span>;
	cin&gt;&gt;n;
<span class="hljs-comment">//		for (int i=1;i&lt;=n;i++)cin&gt;&gt;r;</span>
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>,&amp;c[i]);
	<span class="hljs-comment">//分段</span>
	a=<span class="hljs-number">0</span>,b=n<span class="hljs-number">+1</span>;
	<span class="hljs-keyword">while</span>(c[a<span class="hljs-number">+1</span>]&gt;<span class="hljs-number">0</span>) a++;
	<span class="hljs-keyword">while</span>(c[b<span class="hljs-number">-1</span>]&lt;<span class="hljs-number">0</span>) b--;
	<span class="hljs-comment">//第一段（排名高且想进步）</span>
	<span class="hljs-type">int</span> ans1=<span class="hljs-number">0</span>,sum=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=a;i&gt;<span class="hljs-number">1</span>;i--)
	{
		sum+=<span class="hljs-built_in">abs</span>(c[i]);
		ans1=<span class="hljs-built_in">max</span>(ans1,sum-<span class="hljs-built_in">abs</span>(c[i<span class="hljs-number">-1</span>]));
	}
	<span class="hljs-comment">//第二段（有进有退）</span>
	<span class="hljs-type">int</span> ans2=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=a<span class="hljs-number">+1</span>;i&lt;=b<span class="hljs-number">-1</span>;i++)  ans2+=<span class="hljs-built_in">abs</span>(c[i]);
	<span class="hljs-comment">//第三段（排名低且想退步）</span>
	<span class="hljs-type">int</span> ans3=<span class="hljs-number">0</span>;sum=<span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=b;i&lt;n;i++)
	{
		sum+=<span class="hljs-built_in">abs</span>(c[i]);
		ans3=<span class="hljs-built_in">max</span>(ans3,sum-<span class="hljs-built_in">abs</span>(c[i<span class="hljs-number">+1</span>]));
	}
	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>,ans1+ans2+ans3);
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
